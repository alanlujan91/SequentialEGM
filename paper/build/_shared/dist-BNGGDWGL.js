import{b as x,i as k,l as C,m as _,o as I,p as E,r as L}from"/SequentialEGM/build/_shared/chunk-HWLV2QNP.js";import"/SequentialEGM/build/_shared/chunk-RTIGS2T3.js";import"/SequentialEGM/build/_shared/chunk-RAQ24GF6.js";function j(r){return r===1?"p{\\dimexpr \\linewidth-2\\tabcolsep}":`p{\\dimexpr ${r.toFixed(3)}\\linewidth-2\\tabcolsep}`}function A(r){var e,i,n;let o=[],t=0;for(let s=0;s<r.children.length;s+=1){let h=r.children[s].children.reduce((m,w)=>{var $,T;let oe=new Array(($=w.colspan)!==null&&$!==void 0?$:1).fill(w.width?w.width/((T=w.colspan)!==null&&T!==void 0?T:1):null);return[...m,...oe]},[]),b=h.filter(m=>m>0).length;if((s===0||b>=t)&&(t=b,o=h,t===h.length))break}let l;if(t===o.length)l=o;else{let p=886-o.reduce((m,w)=>w==null?m:m+w,0),h=o.length-t,b=Math.floor(p/h);l=o.map(m=>m==null||m===0?b:m)}let a=l.reduce((s,p)=>s+p,0),c=l.map(s=>s/a),d=c.map(s=>j(s)).join(""),u=l.length>0?l.length:(n=(i=(e=r?.children[0])===null||e===void 0?void 0:e.children)===null||i===void 0?void 0:i.length)!==null&&n!==void 0?n:0;return{widths:c,columnSpec:d,numColumns:u}}function H(r,e,i,n,o,t){var l;let a=1,c=(l=e.colspan)!==null&&l!==void 0?l:1;if(c>1){let d=0;for(let u=0;u<c;u+=1)d+=o[n+u];r.write(`\\multicolumn{${c}}{${j(d)}}{`),a=c}return e.children.length===1&&e.children[0].type==="paragraph"?r.renderChildren(e.children[0],!0):r.renderChildren(e,!0),c>1&&r.write("}"),i<t-1&&r.write(" & "),a}function G(r,e){e.usePackages("booktabs");let{widths:i,columnSpec:n,numColumns:o}=A(r);if(!o)throw new Error("invalid table format, no columns");e.data.isInTable=!0,e.data.isInContainer||e.write("\\bigskip\\noindent"),e.ensureNewLine();let t=0;if(e.data.longFigure){e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine();let l=!1;r.children.forEach(({children:a})=>{var c,d;if(!l){if(!((c=a[0])===null||c===void 0)&&c.header){t+=1;let u=0;a.forEach((s,p)=>{u+=H(e,s,p,u,i,a.length)}),e.write(" \\\\"),e.ensureNewLine()}!((d=a[0])===null||d===void 0)&&d.header||(l=!0)}}),t>0&&(e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write("\\endfirsthead"),e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write(`\\multicolumn{${o}}{c}{\\tablename\\ \\thetable\\ -- \\textit{Continued from previous page}}\\\\`),e.ensureNewLine(),r.children.forEach(({children:a},c)=>{if(c>=t)return;let d=0;a.forEach((u,s)=>{d+=H(e,u,s,d,i,a.length)}),e.write(" \\\\"),e.ensureNewLine()}),e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write("\\endhead"),e.ensureNewLine())}else e.write(`\\begin{tabular}{${n}}`),e.ensureNewLine(),e.write("\\toprule"),e.ensureNewLine();r.children.forEach(({children:l},a)=>{var c;if(a<t)return;let d=0;l.forEach((u,s)=>{d+=H(e,u,s,d,i,l.length)}),e.write(" \\\\"),e.ensureNewLine(),!((c=l[0])===null||c===void 0)&&c.header&&(e.write("\\hline"),e.ensureNewLine())}),e.data.longFigure?e.write("\\hline"):(e.write("\\bottomrule"),e.ensureNewLine(),e.write("\\end{tabular}")),e.closeBlock(r),e.data.isInTable=!1,e.data.isInContainer||e.write("\\bigskip")}var f;(function(r){r.fig="fig",r.eq="eq",r.code="code",r.table="table"})(f||(f={}));function le(r){var e;let i=(e=r?.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n))!==null&&e!==void 0?e:[];return[...new Set(i)]}function ae(r){switch(r.type){case"iframe":case"image":return f.fig;case"table":return f.table;case"code":return f.code;case"math":return f.eq;default:return null}}function D(r){var e;let i=ae(r);return(e=r.children)===null||e===void 0||e.forEach(n=>{i||(i=D(n))}),i}function ce(r){let e=D(r),i=le(r.class),n=i.includes("full-width")||i.includes("w-full");switch(e){case f.fig:return n?"figure*":"figure";case f.table:return n?"table*":"table";case f.code:return"code";case f.eq:return"figure";default:return"figure"}}function se(r){switch(D(r)){case f.fig:case f.table:return"!htbp";case f.code:return"H";case f.eq:default:return}}var F=(r,e)=>{var i;if(e.data.isInTable){e.renderChildren(r);return}let n=I("table",r),o=!!n,t;n&&r.multipage&&(t=A(n));let l,a;r.landscape&&(e.usePackages("pdflscape"),l="\\begin{landscape}",a="\\end{landscape}");let{enumerated:c,label:d,identifier:u,multipage:s}=r,p=(i=d??u)!==null&&i!==void 0?i:void 0,h=o&&s?"longtable":ce(r);h==="longtable"&&e.usePackages("longtable");let b=o&&t?t.columnSpec:void 0,m=o?void 0:se(r);l&&e.write(l);let w=b?`{${b}}`:"",$=m?`[${m}]`:"";e.write(`\\begin{${h}}${w}${$}
`),(!s||!o)&&e.write("\\centering"),e.ensureNewLine(),e.data.longFigure=s;let T=e.data.isInContainer;e.data.isInContainer=!0,e.data.nextCaptionNumbered=c??!!p,e.data.nextCaptionId=p,e.renderChildren(r),e.trimEnd(),e.data.longFigure=void 0,e.data.isInContainer=T,e.write(`
\\end{${h}}`),a&&e.write(a),e.closeBlock(r)},S=(r,e)=>{if(e.data.isInTable&&r.type!==f.table)return null;e.ensureNewLine(!0);let{nextCaptionNumbered:i,nextCaptionId:n}=e.data,o=i===!1?"caption[]*":"caption[]",t=i&&n?`\\label{${n}}`:"";e.renderInlineEnvironment(r,o,{after:t})};function Z(r,e=" "){return r.replace(/\u00A0/g,e).replace(/[\u200B-\u200D\uFEFF]/g,"")}var q="\u{1F4A5}\u{1F3AF}BACKSLASHSPACE\u{1F3AF}\u{1F4A5}",U="\u{1F4A5}\u{1F3AF}BACKSLASH\u{1F3AF}\u{1F4A5}",X="\u{1F4A5}\u{1F3AF}TILDE\u{1F3AF}\u{1F4A5}",O={"&":"\\&","%":"\\%",$:"\\$","#":"\\#",_:"\\_","{":"\\{","}":"\\}","^":"\\^"},ue={...O,"\u2019":"'","\u2018":"`","\u201D":"''","\u201C":"``","\xBB":">>","\xAB":"<<","\u2026":"\\dots","\u2013":"--","\u2014":"---","\xA9":"\\textcopyright ","\xAE":"\\textregistered ","\u2122":"\\texttrademark ","<":"\\textless ",">":"\\textgreater ","\xA0":"~","\u202F":"~","\u2009":"\\,"},J={"\u2194":"\\leftrightarrow","\u21D4":"\\Leftrightarrow","\u2192":"\\rightarrow","\u21D2":"\\Rightarrow","\u2190":"\\leftarrow","\u21D0":"\\Leftarrow"},Q={"\u2212":"-","-":"-","\uFE63":"-","\uFF0D":"-","\uFF0B":"+"},K={...ue,...J,...Q},N={...J,...Q,"\xBD":"\\frac{1}{2}","\u2153":"\\frac{1}{3}","\u2154":"\\frac{2}{3}","\xBC":"\\frac{1}{4}","\u2155":"\\frac{1}{5}","\u2156":"\\frac{2}{5}","\u2157":"\\frac{3}{5}","\u2158":"\\frac{4}{5}","\u2159":"\\frac{1}{6}","\u215A":"\\frac{5}{6}","\u2150":"\\frac{1}{7}","\u215B":"\\frac{1}{8}","\u215C":"\\frac{3}{8}","\u215D":"\\frac{5}{8}","\u215E":"\\frac{7}{8}","\u2151":"\\frac{1}{9}","\u2152":"\\frac{1}{10}","\xB1":"\\pm","\xD7":"\\times","\u22C6":"\\star",\u0391:"A",\u03B1:"\\alpha",\u0392:"B",\u03B2:"\\beta",\u00DF:"\\beta",\u0393:"\\Gamma",\u03B3:"\\gamma",\u0394:"\\Delta","\u2206":"\\Delta",\u03B4:"\\delta",\u0395:"E",\u03B5:"\\epsilon",\u0396:"Z",\u03B6:"\\zeta",\u0397:"H",\u03B7:"\\eta",\u0398:"\\Theta",\u03B8:"\\theta",\u03D1:"\\vartheta",\u0399:"I",\u03B9:"\\iota",\u039A:"K",\u03BA:"\\kappa",\u039B:"\\Lambda",\u03BB:"\\lambda",\u039C:"M",\u03BC:"\\mu",\u039D:"N",\u03BD:"\\nu",\u039E:"\\Xi",\u03BE:"\\xi",\u039F:"O",\u03BF:"o",\u03A0:"\\Pi",\u03C0:"\\pi",\u03A1:"P",\u03C1:"\\rho",\u03A3:"\\Sigma",\u03C3:"\\sigma",\u03A4:"T",\u03C4:"\\tau",\u03A5:"\\Upsilon",\u03C5:"\\upsilon",\u03A6:"\\Phi",\u03D5:"\\phi",\u03C6:"\\varphi",\u03A7:"X",\u03C7:"\\chi",\u03A8:"\\Psi",\u03C8:"\\psi",\u03A9:"\\Omega",\u03C9:"\\omega","\u2202":"\\partial","\u221E":"\\infty","\u221D":"\\propto","\u29DC":"\\iinfin","\u29DD":"\\tieinfty","\u267E":"\\acidfree","\u2248":"\\approx","\u2260":"\\neq","\u2265":"\\geq","\u2264":"\\leq","\u2022":"\\cdot"};function M(r){return Array.from(r??"").map(n=>O[n]?{kind:"text",text:O[n]}:{kind:"text",text:n}).reduce((n,o)=>{let t=n.slice(-1)[0];return t?.kind===o.kind?t.text+=o.text:n.push(o),n},[]).reduce((n,o)=>n+o.text,"")}function V(r){let e=(r??"").replace(/\\ /g,q).replace(/\\/g,U).replace(/~/g,X),o=Array.from(e).map(t=>K[t]?{kind:"text",text:K[t]}:N[t]?{kind:"math",text:N[t]}:{kind:"text",text:t}).reduce((t,l)=>{let a=t.slice(-1)[0];return a?.kind===l.kind?a.text+=l.text:t.push(l),t},[]).reduce((t,l)=>l.kind==="math"?`${t}$${l.text}$`:t+l.text,"").replace(new RegExp(q,"g"),"{\\textbackslash}~").replace(new RegExp(U,"g"),"{\\textbackslash}").replace(new RegExp(X,"g"),"{\\textasciitilde}");return Z(o,"~")}function Y(r){let i=Array.from(r??"").reduce((n,o)=>{if(N[o]){let t=n.slice(-1)===" "?"":" ";return`${n}${t}${N[o]}`}return n+o},"").trim();return Z(i)}function y(r){if(typeof r=="number"&&Number.isNaN(r))return y(.7);if(typeof r=="string")return r.endsWith("%")?y(Number(r.replace("%",""))):r.endsWith("px")?y(Number(r.replace("px",""))/800):(console.log(`Unknown width ${r} in getLatexImageWidth`),y(.7));let e=r??.7;return e<1&&(e*=100),`${e/100}\\linewidth`}function R(r){var e;let i=(e=r?.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n))!==null&&e!==void 0?e:[];return Array.from(new Set(i))}function z(r,e){e.options.math&&Object.entries(e.options.math).forEach(([i,n])=>{r.includes(i)&&(e.data.mathPlugins[i]=n)})}function B(r,e=r.data.mathPlugins){if(!r.options.math)return e;let i=Object.entries(e),n={};Object.entries(r.options.math).forEach(([t,l])=>{e[t]||i.forEach(([,a])=>{a.includes(t)&&(n[t]=l)})});let o={...n,...e};return Object.keys(n).length===0?o:B(r,o)}var fe=(r,e)=>{let{label:i,enumerated:n}=r;e.usePackages("amsmath"),z(r.value,e),e.data.isInTable?(e.write("\\(\\displaystyle "),e.write(r.value),e.write(" \\)")):(e.write(`\\begin{equation${n===!1?"*":""}}
`),i&&e.write(`\\label{${i}}`),e.ensureNewLine(),e.write(r.value),e.ensureNewLine(!0),e.write(`\\end{equation${n===!1?"*":""}}`)),e.data.isInTable||e.closeBlock(r)},me=(r,e)=>{e.usePackages("amsmath"),z(r.value,e),e.write("$"),e.text(r.value,!0),e.write("$")},pe={math:fe,inlineMath:me},ee=pe;function re(r){E("container",r).forEach(i=>{var n;let o=(n=i.children)===null||n===void 0?void 0:n.filter(t=>t.type==="caption"||t.type==="legend");o?.length&&(o[0].type="caption",o.slice(1).forEach(t=>{var l;o[0].children&&t.children&&((l=o[0].children)===null||l===void 0||l.push(...t.children)),t.type="__delete__"}))}),_(r,"__delete__")}function he(r){switch(r){case"theorem":return"theorem";case"proof":return"proof";case"proposition":return"proposition";case"definition":return"definition";case"example":return"example";case"remark":return"remark";case"axiom":return"axiom";case"conjecture":return"conjecture";case"lemma":return"lemma";case"observation":return"observation";case"corollary":return"corollary";default:return""}}var ne=(r,e)=>{var i;e.usePackages("amsthm");let n=r,o=he((i=n.kind)!==null&&i!==void 0?i:"proof");if(!o){x(e.file,`Unhandled LaTeX proof environment "${n.kind}"`,{node:r,source:"myst-to-tex",ruleId:L.texRenders});return}let t=I("admonitionTitle > text",r);t&&(t.type="__delete__");let l=_(r,"__delete__");e.write("\\begin{"),e.write(o),e.write("}"),t&&(e.write("["),e.write(t.value),e.write("]")),l.identifier&&l.identifier.length>0&&(e.write("\\label{"),e.write(l.identifier),e.write("}")),e.renderChildren(l,!0),e.write("\\end{"),e.write(o),e.write("}"),e.data.hasProofs=!0},v=class{constructor(){this.preamble=this.renderThmDefinitions()}renderThmDefinitions(){let i=C("theorem",["\\newtheorem{theorem}{Theorem}[section]","\\newtheorem{corollary}{Corollary}[theorem]","\\newtheorem{lemma}[theorem]{Lemma}","\\newtheorem{proposition}{Proposition}[section]","\\newtheorem{definition}{Definition}[section]","\\newtheorem{example}{Example}[section]","\\newtheorem{remark}{Remark}[section]","\\newtheorem{axiom}{Axiom}[section]","\\newtheorem{conjecture}{Conjecture}[section]","\\newtheorem{observation}{Observation}[section]"],v.COMMENT_LENGTH),n="".padEnd(v.COMMENT_LENGTH,"%");return`${n}
${i}${n}
`}};v.COMMENT_LENGTH=50;var we=(r,e)=>{if(!e.printGlossary){e.renderChildren(r,!0);return}if(!r.identifier){e.renderChildren(r,!0);return}if(!e.glossary[r.identifier]){x(e.file,`Unknown glossary entry identifier "${r.identifier}"`,{node:r,source:"myst-to-tex",ruleId:L.texRenders});let n=r;e.write(k(r).trim()||n.label||"");return}e.write("\\gls{"),e.write(r.identifier),e.write("}")},ge=r=>Object.fromEntries(E("footnoteDefinition",r).map(e=>{let i=e;return[i.identifier,i]})),ve=r=>Object.fromEntries(E("glossary > definitionList > *",r).map((e,i,n)=>{if(e.type!=="definitionTerm")return[];let o=e;if(!o.identifier)return[];let t=n[i+1];if(t===void 0||t.type!=="definitionDescription")throw new Error("Definition term has no associated description");let l=k(o),a=k(t);return[o.identifier,[l,a]]}).filter(e=>e.length>0)),ie=r=>r.trim().toLowerCase(),be=r=>Object.fromEntries(E("abbreviation",r).map(e=>{let i=e,n=k(i);return!n||!i.title?[]:[ie(n),[n,i.title]]}).filter(e=>e.length>0)),te={text(r,e){e.text(r.value)},paragraph(r,e){e.renderChildren(r)},heading(r,e){let{depth:i,label:n,enumerated:o}=r;if(e.data.nextHeadingIsFrameTitle)e.write("\\frametitle{"),e.data.nextHeadingIsFrameTitle=!1;else{let t=o!==!1||e.options.beamer?"":"*";i===1&&e.write(`\\section${t}{`),i===2&&e.write(`\\subsection${t}{`),i===3&&e.write(`\\subsubsection${t}{`),i===4&&e.write(`\\paragraph${t}{`),i===5&&e.write(`\\subparagraph${t}{`),i===6&&e.write(`\\subparagraph${t}{`)}e.renderChildren(r,!0),e.write("}"),o!==!1&&n&&!r.implicit&&e.write(`\\label{${n}}`),e.closeBlock(r)},block(r,e){var i,n,o,t,l;if(e.options.beamer){if(!((i=r.data)===null||i===void 0)&&i.outline){e.data.nextHeadingIsFrameTitle=!1,e.renderChildren(r,!1);return}((o=(n=r.children)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.type)==="heading"&&(e.data.nextHeadingIsFrameTitle=!0),e.write(`

\\begin{frame}
`),e.renderChildren(r,!1),e.write(`\\end{frame}

`);return}r.visibility!=="remove"&&(!((l=(t=r.data)===null||t===void 0?void 0:t.tags)===null||l===void 0)&&l.includes("no-tex")||e.renderChildren(r,!1))},blockquote(r,e){e.renderEnvironment(r,"quote")},definitionList(r,e){e.write(`\\begin{description}
`),e.renderChildren(r,!0),e.ensureNewLine(),e.write("\\end{description}"),e.closeBlock(r)},definitionTerm(r,e){e.ensureNewLine(),e.write("\\item["),e.renderChildren(r,!0),e.write("] ")},definitionDescription(r,e){e.renderChildren(r,!0)},code(r,e){let i=`\\begin{verbatim}
`,n=`
\\end{verbatim}`;R(r.class).includes("listings")&&r.lang!==void 0?(e.usePackages("listings"),i=`\\begin{lstlisting}[language=${r.lang}]
`,n=`
\\end{lstlisting}`):R(r.class).includes("minted")&&r.lang!==void 0&&(e.usePackages("minted"),i=`\\begin{minted}{${r.lang}}
`,n=`
\\end{minted}`),e.write(i),e.text(r.value,!0),e.write(n),e.closeBlock(r)},list(r,e){e.data.isInTable?r.children.forEach((i,n)=>{e.write(r.ordered?`${n}.~~`:"\\textbullet~~"),e.renderChildren(i,!0),e.write("\\newline"),e.ensureNewLine()}):e.renderEnvironment(r,r.ordered?"enumerate":"itemize",{parameters:r.ordered&&r.start!==1?"resume":void 0})},listItem(r,e){e.write("\\item "),e.renderChildren(r,!0),e.write(`
`)},thematicBreak(r,e){e.write(`
\\bigskip
\\centerline{\\rule{13cm}{0.4pt}}
\\bigskip`),e.closeBlock(r)},...ee,mystRole(r,e){e.renderChildren(r,!0)},mystDirective(r,e){e.renderChildren(r,!1)},comment(r,e){var i,n;e.ensureNewLine(),e.write(`% ${(n=(i=r.value)===null||i===void 0?void 0:i.split(`
`).join(`
% `))!==null&&n!==void 0?n:""}`),e.closeBlock(r)},strong(r,e){e.renderInlineEnvironment(r,"textbf")},emphasis(r,e){e.renderInlineEnvironment(r,"textit")},underline(r,e){e.renderInlineEnvironment(r,"uline")},inlineCode(r,e){e.write("\\texttt{"),e.text(r.value,!1),e.write("}")},subscript(r,e){e.renderInlineEnvironment(r,"textsubscript")},superscript(r,e){e.renderInlineEnvironment(r,"textsuperscript")},delete(r,e){e.usePackages("ulem"),e.renderInlineEnvironment(r,"sout")},break(r,e){e.write("\\newline"),e.ensureNewLine()},abbreviation(r,e){if(!e.printGlossary){e.renderChildren(r,!0);return}let i=k(r);if(!i)return[];let n=ie(i);if(!e.abbreviations[n]){x(e.file,`Unknown abbreviation entry identifier "${n}"`,{node:r,source:"myst-to-tex",ruleId:L.texRenders});return}e.write("\\acrshort{"),e.write(n),e.write("}")},glossary(){},link(r,e){var i;e.usePackages("url","hyperref");let n=r.url;if(((i=r.children[0])===null||i===void 0?void 0:i.value)===n){e.write("\\url{"),e.write(M(n)),e.write("}");return}e.write("\\href{"),e.write(M(n)),e.write("}{"),e.renderChildren(r,!0),e.write("}")},admonition(r,e){e.usePackages("framed"),e.renderEnvironment(r,"framed")},admonitionTitle(r,e){e.renderInlineEnvironment(r,"textbf"),e.write(`\\\\
`)},table:G,image(r,e){e.usePackages("graphicx");let{width:i,url:n,align:o}=r,t=n,l=y(i);e.write(`\\includegraphics[width=${l}]{${t}}`),e.closeBlock(r)},container:F,proof:ne,caption:S,captionNumber:()=>{},crossReference(r,e,i){var n,o;if(r.kind==="definitionTerm"){we(r,e,i);return}let t=!((n=r.template)===null||n===void 0)&&n.includes("%s")?r.template:void 0,l=((o=t??k(r))===null||o===void 0?void 0:o.replace(/\s/g,"~"))||"%s",a=r.label;e.write(l.replace(/%s/g,`\\ref{${a}}`))},citeGroup(r,e){if(e.options.citestyle==="numerical-only")e.write("\\cite{");else if(e.options.bibliography==="biblatex"){let i=r.kind==="narrative"?"textcite":"parencite";e.write(`\\${i}{`)}else{let i=r.kind==="narrative"?"t":"p";e.write(`\\cite${i}{`)}e.renderChildren(r,!0,", "),e.write("}")},cite(r,e,i){e.options.bibliography||e.usePackages("natbib"),i.type==="citeGroup"?e.write(r.label):e.options.bibliography==="biblatex"?e.write(`\\textcite{${r.label}}`):e.write(`\\cite{${r.label}}`)},embed(r,e){e.renderChildren(r,!0)},include(r,e){e.renderChildren(r,!0)},footnoteReference(r,e){if(!r.identifier)return;let i=e.footnotes[r.identifier];if(!i){x(e.file,`Unknown footnote identifier "${r.identifier}"`,{node:r,source:"myst-to-tex",ruleId:L.texRenders});return}e.write("\\footnote{"),e.renderChildren(i,!0),e.trimEnd(),e.write("}")},footnoteDefinition(){},si(r,e){var i,n,o,t;e.usePackages("siunitx"),r.number==null?e.write(`\\unit{${(n=(i=r.units)===null||i===void 0?void 0:i.map(l=>`\\${l}`).join(""))!==null&&n!==void 0?n:""}}`):e.write(`\\qty{${r.number}}{${(t=(o=r.units)===null||o===void 0?void 0:o.map(l=>`\\${l}`).join(""))!==null&&t!==void 0?t:""}}`)}},g=class{constructor(e,i){this.printedDefinitions=this.renderGlossary(),this.preamble=[this.renderCommonImports(Object.keys(i).keys.length>0),this.renderImports("glossary",this.createGlossaryDirectives(e)),this.renderImports("acronyms",this.createAcronymDirectives(i))].filter(n=>!!n).join(`
`)}renderGlossary(){let e=C("acronyms & glossary",["\\printglossaries"],g.COMMENT_LENGTH),i="".padEnd(g.COMMENT_LENGTH,"%");return`${i}
${e}${i}
`}renderCommonImports(e){return`${e?"\\usepackage[acronym]{glossaries}":"\\usepackage{glossaries}"}
\\makeglossaries
`}renderImports(e,i){if(!i)return"";let n=C(e,i,g.COMMENT_LENGTH);if(!n)return;let o="".padEnd(g.COMMENT_LENGTH,"%");return`${o}
${n}${o}
`}createGlossaryDirectives(e){return Object.keys(e).map(o=>({key:o,name:e[o][0],description:e[o][1]})).map(o=>`\\newglossaryentry{${o.key}}{name=${o.name},description={${o.description}}}`)}createAcronymDirectives(e){return Object.keys(e).map(n=>({key:n,acronym:e[n][0],expansion:e[n][1]})).map(n=>`\\newacronym{${n.key}}{${n.acronym}}{${n.expansion}}`)}};g.COMMENT_LENGTH=50;var W=class{constructor(e,i,n){var o,t;e.result="",this.file=e,this.options=n??{},this.data={mathPlugins:{},imports:new Set},this.handlers=(o=n?.handlers)!==null&&o!==void 0?o:te,this.references=(t=n?.references)!==null&&t!==void 0?t:{},this.footnotes=ge(i),this.glossary=n?.printGlossaries?ve(i):{},this.abbreviations=n?.printGlossaries?be(i):{},this.renderChildren(i)}get printGlossary(){return this.options.printGlossaries===!0}get out(){return this.file.result}usePackages(...e){e.forEach(i=>{this.data.imports.add(i)})}write(e){this.file.result+=e}text(e,i=!1){let n=i?Y(e):V(e);this.write(n)}trimEnd(){this.file.result=this.out.trimEnd()}ensureNewLine(e=!1){e&&this.trimEnd(),!this.out.endsWith(`
`)&&this.write(`
`)}renderChildren(e,i=!1,n=""){var o,t,l;let a=(t=(o=e.children)===null||o===void 0?void 0:o.length)!==null&&t!==void 0?t:0;(l=e.children)===null||l===void 0||l.forEach((c,d)=>{let u=this.handlers[c.type];u?u(c,this,e):x(this.file,`Unhandled LaTeX conversion for node of "${c.type}"`,{node:c,source:"myst-to-tex",ruleId:L.texRenders}),n&&d+1<a&&this.write(n)}),i||this.closeBlock(e)}renderEnvironment(e,i,n){let o=n?.parameters?`[${n.parameters}]`:"",t=n?.arguments?`{${n.arguments.join("}{")}}`:"";this.file.result+=`\\begin{${i}}${o}${t}
`,this.renderChildren(e,!0),this.ensureNewLine(!0),this.file.result+=`\\end{${i}}`,this.closeBlock(e)}renderInlineEnvironment(e,i,n){this.file.result+=`\\${i}{`,this.renderChildren(e,!0),this.trimEnd(),this.file.result+="}",n?.after&&(this.ensureNewLine(!0),this.write(n.after))}closeBlock(e){this.ensureNewLine(!0),this.file.result+=`
`}},xe=function(r){return this.Compiler=(e,i)=>{re(e);let n=new W(i,e,r??{handlers:te}),o=i.result.trim(),t=[];if(n.data.hasProofs&&t.push(new v().preamble),r?.printGlossaries){let a=new g(n.glossary,n.abbreviations);t.push(a.preamble),o+=`
`+a.printedDefinitions}let l={imports:[...n.data.imports],preamble:t.join(`
`),commands:B(n),value:o};return i.result=l,i},e=>e},qe=xe;export{qe as default};
