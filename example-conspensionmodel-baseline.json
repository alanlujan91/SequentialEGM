{"kind":"Notebook","sha256":"5c80ec4d55f4486886a59ba254a2ab84301959451f0ac80e6afd0eb646168e0a","slug":"example-conspensionmodel-baseline","location":"/code/examples/example_ConsPensionModel_baseline.ipynb","dependencies":[],"frontmatter":{"title":"Post Decision Stage","content_includes_title":true,"kernelspec":{"name":"python3","language":"python","display_name":"Python 3 (ipykernel)"},"jupytext":{"formats":"ipynb,py:percent"},"authors":[{"nameParsed":{"literal":"Alan Lujan","given":"Alan","family":"Lujan"},"name":"Alan Lujan","corresponding":false,"email":"alanlujan91@gmail.com","affiliations":["Johns Hopkins University","Econ-ARK"],"github":"alanlujan91","url":"https://quantmacro.org","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"},"code":{"id":"MIT","name":"MIT License","osi":true,"free":true,"url":"https://opensource.org/licenses/MIT"}},"github":"https://github.com/alanlujan91/SequentialEGM","subject":"Economics","venue":{"title":"REMARK","url":"https://github.com/econ-ark/REMARK"},"numbering":{"figure":{"enabled":true},"equation":{"enabled":true},"table":{"enabled":true},"code":{"enabled":true},"heading_1":{"enabled":true},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"keywords":["endogenous grid method","stochastic dynamic programming","machine learning","gaussian process regression"],"affiliations":[{"id":"Johns Hopkins University","name":"Johns Hopkins University"},{"id":"Econ-ARK","name":"Econ-ARK"}],"math":{"\\CARA":{"macro":"\\alpha"},"\\CRRA":{"macro":"\\rho"},"\\PtyLab":{"macro":"\\mathrm{Z}"},"\\ptyLab":{"macro":"z"},"\\TaxComb":{"macro":"\\mathcal{T}"},"\\Prob":{"macro":"\\mathbb{P}"},"\\DiePrb":{"macro":"\\mathsf{D}"},"\\diePrb":{"macro":"\\mathsf{d}"},"\\LivPrb":{"macro":"\\cancel{\\DiePrb}"},"\\livPrb":{"macro":"\\cancel{\\diePrb}"},"\\DiscFac":{"macro":"\\beta"},"\\DieFac":{"macro":"\\pDead"},"\\GroFac":{"macro":"\\Omega"},"\\BalGroFac":{"macro":"\\check"},"\\permGroFac":{"macro":"\\Gamma"},"\\PermGroFac":{"macro":"\\pmb{\\Phi}"},"\\PopnGroFac":{"macro":"\\Xi"},"\\APFac":{"macro":"\\text{\\pmb{\\Thorn}}"},"\\PopFac":{"macro":"\\PopGro"},"\\RPFac":{"macro":"\\APFac_{\\Rfree}"},"\\DeprFac":{"macro":"\\daleth"},"\\LivFac":{"macro":"\\Alive"},"\\aVec":{"macro":"\\vec{\\mathrm{a}}"},"\\bVec":{"macro":"\\vec{\\mathrm{\\bNrm}}"},"\\cVec":{"macro":"\\vec{\\mathrm{\\cNrm}}"},"\\mVec":{"macro":"\\vec{\\mathrm{m}}"},"\\yVec":{"macro":"\\vec{\\mathrm{\\yNrm}}"},"\\Inc":{"macro":"Y"},"\\inc":{"macro":"y"},"\\PInc":{"macro":"P"},"\\AFunc":{"macro":"\\mathrm{A}"},"\\aFunc":{"macro":"\\mathrm{a}"},"\\BFunc":{"macro":"\\mathrm{B}"},"\\bFunc":{"macro":"\\mathrm{b}"},"\\CFunc":{"macro":"\\mathrm{C}"},"\\cFunc":{"macro":"\\mathrm{c}"},"\\MPCFunc":{"macro":"\\pmb{\\kappa}"},"\\DFunc":{"macro":"\\mathrm{D}"},"\\dFunc":{"macro":"\\mathrm{d}"},"\\bEndFunc":{"macro":"\\mathfrak{b}"},"\\CEndFunc":{"macro":"\\mathfrak{C}"},"\\cEndFunc":{"macro":"\\mathfrak{c}"},"\\dEndFunc":{"macro":"\\mathfrak{d}"},"\\lEndFunc":{"macro":"\\mathfrak{l}"},"\\mEndFunc":{"macro":"\\mathfrak{m}"},"\\nEndFunc":{"macro":"\\mathfrak{n}"},"\\VEndFunc":{"macro":"\\mathfrak{V}"},"\\vEndFunc":{"macro":"\\mathfrak{v}"},"\\zEndFunc":{"macro":"\\mathfrak{z}"},"\\ProdFunc":{"macro":"\\mathrm{F}"},"\\prodFunc":{"macro":"\\mathrm{f}"},"\\EFunc":{"macro":"\\mathrm{E}"},"\\eFunc":{"macro":"\\mathrm{e}"},"\\FFunc":{"macro":"\\mathrm{F}"},"\\fFunc":{"macro":"\\mathrm{f}"},"\\GFunc":{"macro":"\\mathrm{G}"},"\\gFunc":{"macro":"\\mathrm{g}"},"\\vBegFunc":{"macro":"\\pmb{\\upsilon}"},"\\HFunc":{"macro":"\\mathrm{H}"},"\\hFunc":{"macro":"\\mathrm{h}"},"\\IFunc":{"macro":"\\mathrm{I}"},"\\iFunc":{"macro":"\\mathrm{i}"},"\\chiFunc":{"macro":"\\pmb{\\chi}"},"\\phiFunc":{"macro":"\\digamma"},"\\JFunc":{"macro":"\\mathrm{J}"},"\\jFunc":{"macro":"\\mathrm{j}"},"\\KFunc":{"macro":"\\mathrm{K}"},"\\kFunc":{"macro":"\\mathrm{k}"},"\\LFunc":{"macro":"\\mathrm{L}"},"\\utilFunc":{"macro":"\\mathrm{u}"},"\\MFunc":{"macro":"\\mathrm{M}"},"\\mFunc":{"macro":"\\mathrm{m}"},"\\NFunc":{"macro":"\\mathrm{N}"},"\\nFunc":{"macro":"\\mathrm{n}"},"\\OFunc":{"macro":"\\mathrm{O}"},"\\PFunc":{"macro":"\\mathrm{P}"},"\\pFunc":{"macro":"\\mathrm{p}"},"\\QFunc":{"macro":"\\mathrm{Q}"},"\\RFunc":{"macro":"\\mathrm{R}"},"\\rFunc":{"macro":"\\mathrm{r}"},"\\SFunc":{"macro":"\\mathrm{S}"},"\\sFunc":{"macro":"\\mathrm{s}"},"\\MPSFunc":{"macro":"\\pmb{lambda}"},"\\TFunc":{"macro":"\\mathrm{T}"},"\\UFunc":{"macro":"\\mathrm{U}"},"\\uFunc":{"macro":"\\mathrm{u}"},"\\VFunc":{"macro":"\\mathrm{V}"},"\\vFunc":{"macro":"\\mathrm{v}"},"\\cPDVFunc":{"macro":"\\mathbb{C}"},"\\pPDVFunc":{"macro":"\\mathbb{P}"},"\\uPDVFunc":{"macro":"\\mathbb{U}"},"\\cLevFunc":{"macro":"\\pmb{\\cFunc}"},"\\VLevFunc":{"macro":"\\pmb{\\mathrm{V}}"},"\\vLevFunc":{"macro":"\\pmb{\\mathrm{v}}"},"\\RevFunc":{"macro":"\\pmb{\\Pi}"},"\\revFunc":{"macro":"\\pmb{\\pi}"},"\\WFunc":{"macro":"\\mathrm{W}"},"\\wFunc":{"macro":"\\mathrm{w}"},"\\XFunc":{"macro":"\\mathrm{X}"},"\\xFunc":{"macro":"\\mathrm{x}"},"\\YFunc":{"macro":"\\mathrm{Y}"},"\\yFunc":{"macro":"\\mathrm{y}"},"\\ZFunc":{"macro":"\\mathrm{Z}"},"\\zFunc":{"macro":"\\mathrm{z}"},"\\MPC":{"macro":"\\kappa"},"\\PIHMPC":{"macro":"\\varkappa"},"\\MinMPC":{"macro":"\\uline{\\kappa}"},"\\MinMinMPC":{"macro":"\\underline{\\kappa}"},"\\MaxMinMPC":{"macro":"\\hat{\\underline{\\kappa}}"},"\\MaxMPC":{"macro":"\\bar{\\kappa}"},"\\MaxMaxMPC":{"macro":"\\bar{\\bar{\\kappa}}"},"\\itc":{"macro":"\\zeta"},"\\kPriceAfterITC":{"macro":"\\mathscr{P}"},"\\PostITC":{"macro":"\\cancel{\\zeta}"},"\\pDead":{"macro":"\\mathfrak{D}"},"\\TaxPaid":{"macro":"T"},"\\WMid":{"macro":"\\BLev"},"\\wMid":{"macro":"\\bLev"},"\\Wmid":{"macro":"\\BRat"},"\\wmid":{"macro":"\\bRat"},"\\Dvdnd":{"macro":"\\mathbf{D}"},"\\dvdnd":{"macro":"d"},"\\edvdnd":{"macro":"\\grave{\\dvdnd}"},"\\hEnd":{"macro":"\\mathfrak{h}"},"\\GovSpend":{"macro":"X"},"\\govSpend":{"macro":"x"},"\\xpend":{"macro":"\\xi"},"\\expend":{"macro":"\\xi"},"\\TEnd":{"macro":"T"},"\\VEnd":{"macro":"\\mathfrak{V}"},"\\vEnd":{"macro":"\\mathfrak{v}"},"\\WEnd":{"macro":"\\ALev"},"\\wEnd":{"macro":"\\aLev"},"\\Wend":{"macro":"\\ARat"},"\\wend":{"macro":"\\aRat"},"\\permGroFacInd":{"macro":"\\pmb{\\phi}"},"\\permShkInd":{"macro":"\\psi"},"\\tranShkInd":{"macro":"\\theta"},"\\permLvlInd":{"macro":"\\mathrm{p}"},"\\RCpnd":{"macro":"\\mathbf{R}"},"\\Mod":{"macro":"\\tilde"},"\\Rprod":{"macro":"\\mathscr{R}"},"\\rprod":{"macro":"\\mathscr{r}"},"\\RProd":{"macro":"\\mathsf{R}"},"\\rProd":{"macro":"\\mathsf{r}"},"\\tranShkIndStd":{"macro":"\\sigma_{\\tranShkInd}"},"\\tranShkAggStd":{"macro":"\\sigma_{\\tranShkAgg}"},"\\ShkMeanOneLogStd":{"macro":"\\sigma_{\\ShkMeanOneLog}"},"\\ShkLogZeroLogStd":{"macro":"\\sigma_{\\cancel{\\ShkMeanOneLog}}"},"\\PermShkStd":{"macro":"\\sigma_{\\PermShk}"},"\\TranShkStd":{"macro":"\\sigma_{\\TranShk}"},"\\prud":{"macro":"\\eta"},"\\tFwd":{"macro":"n"},"\\aE":{"macro":"\\aRat^{e}"},"\\BE":{"macro":"\\BRat^{e}"},"\\bE":{"macro":"\\bRat^{e}"},"\\CE":{"macro":"\\CRat^{e}"},"\\cE":{"macro":"\\cRat^{e}"},"\\Price":{"macro":"\\mathsf{P}"},"\\kPrice":{"macro":"\\mathsf{P}"},"\\Severance":{"macro":"\\kappa"},"\\MPCE":{"macro":"\\MPC^{e}"},"\\Rfree":{"macro":"\\mathsf{R}"},"\\rfree":{"macro":"\\mathsf{r}"},"\\TaxFree":{"macro":"\\cancel{\\Tax}"},"\\Age":{"macro":"Z"},"\\age":{"macro":"z"},"\\Wage":{"macro":"\\mathsf{W}"},"\\wage":{"macro":"\\mathsf{w}"},"\\bTargE":{"macro":"\\check{b}^{e}"},"\\CTargE":{"macro":"\\CTarg^{\\null}"},"\\cTargE":{"macro":"\\check{c}^{e}"},"\\kTargE":{"macro":"\\Target{k}^{e}"},"\\STargE":{"macro":"\\Target{\\SRat}^{\\null}"},"\\sTargE":{"macro":"\\Target{\\sRat}^{\\null}"},"\\yTargE":{"macro":"\\check{y}^{e}"},"\\ME":{"macro":"\\MRat^{e}"},"\\mE":{"macro":"\\mRat^{e}"},"\\TermTime":{"macro":"T"},"\\ShkMeanOne":{"macro":"\\Theta"},"\\PopE":{"macro":"\\mathcal{E}"},"\\popE":{"macro":"e"},"\\labShare":{"macro":"\\nu"},"\\leiShare":{"macro":"\\zeta"},"\\kapShare":{"macro":"\\alpha"},"\\riskyshare":{"macro":"\\varsigma"},"\\Retire":{"macro":"\\mathbb{R}"},"\\WPre":{"macro":"K"},"\\wPre":{"macro":"k"},"\\Leisure":{"macro":"Z"},"\\leisure":{"macro":"z"},"\\SE":{"macro":"\\SRat^{e}"},"\\sE":{"macro":"\\sRat^{e}"},"\\BRatE":{"macro":"{B}^{e}"},"\\bRatE":{"macro":"{b}^{e}"},"\\CRatE":{"macro":"\\CRat^{e}"},"\\cRatE":{"macro":"\\cRat^{e}"},"\\DiscRate":{"macro":"\\vartheta"},"\\pDeadRate":{"macro":"\\grave{\\cancel{\\mathsf{d}}}"},"\\erate":{"macro":"\\cancel{\\mho}"},"\\pDieRate":{"macro":"\\grave{\\mathsf{d}}"},"\\timeRate":{"macro":"\\vartheta"},"\\saveRate":{"macro":"\\grave{s}"},"\\MRatE":{"macro":"\\MRat^{e}"},"\\mRatE":{"macro":"\\mRat^{e}"},"\\SRatE":{"macro":"\\SRat^{e}"},"\\sRatE":{"macro":"\\sRat^{e}"},"\\srate":{"macro":"\\varsigma"},"\\urate":{"macro":"\\mho"},"\\TaxRate":{"macro":"t"},"\\empState":{"macro":"\\xi"},"\\discRte":{"macro":"\\tau"},"\\DiscRte":{"macro":"\\vartheta"},"\\GroRte":{"macro":"\\omega"},"\\BalGroRte":{"macro":"\\tilde"},"\\permGroRte":{"macro":"\\gamma"},"\\PermGroRte":{"macro":"\\varphi"},"\\PopnGroRte":{"macro":"\\xi"},"\\APRte":{"macro":"\\text{\\thorn}"},"\\GPRte":{"macro":"\\text{\\thorn}_{\\PermGroRte}"},"\\popRte":{"macro":"\\popGro"},"\\RPRte":{"macro":"\\text{\\thorn}_{\\rfree}"},"\\deprRte":{"macro":"\\delta"},"\\Value":{"macro":"\\mathrm{V}"},"\\VE":{"macro":"{V}^{e}"},"\\vE":{"macro":"{v}^{e}"},"\\Save":{"macro":"S"},"\\save":{"macro":"s"},"\\RSave":{"macro":"\\underline{\\Rfree}"},"\\rsave":{"macro":"\\underline{\\rfree}"},"\\Abve":{"macro":"\\bar"},"\\BLevE":{"macro":"\\BLev^{e}"},"\\bLevE":{"macro":"\\bLev^{e}"},"\\CLevE":{"macro":"\\CLev^{e}"},"\\cLevE":{"macro":"\\cLev^{e}"},"\\mLevE":{"macro":"\\mLev^{e}"},"\\SLevE":{"macro":"\\SLev^{e}"},"\\sLevE":{"macro":"\\sLev^{e}"},"\\Alive":{"macro":"\\mathcal{L}"},"\\cFuncAbove":{"macro":"\\bar{\\mathrm{c}}"},"\\aRatBF":{"macro":"\\pmb{a}"},"\\bRatBF":{"macro":"\\pmb{\\mathrm{b}}"},"\\cRatBF":{"macro":"\\pmb{c}"},"\\mRatBF":{"macro":"\\pmb{\\mathrm{m}}"},"\\ALevBF":{"macro":"\\mathbf{A}"},"\\aLevBF":{"macro":"\\mathbf{a}"},"\\BLevBF":{"macro":"\\mathbf{B}"},"\\bLevBF":{"macro":"\\mathbf{b}"},"\\CLevBF":{"macro":"\\mathbf{C}"},"\\cLevBF":{"macro":"\\mathbf{c}"},"\\HLevBF":{"macro":"\\mathbf{H}"},"\\hLevBF":{"macro":"\\mathbf{h}"},"\\KLevBF":{"macro":"\\mathbf{K}"},"\\kLevBF":{"macro":"\\mathbf{k}"},"\\LLevBF":{"macro":"\\mathbf{L}"},"\\lLevBF":{"macro":"\\pmb{\\ell}"},"\\MLevBF":{"macro":"\\mathbf{M}"},"\\mLevBF":{"macro":"\\mathbf{m}"},"\\OLevBF":{"macro":"\\mathbf{O}"},"\\oLevBF":{"macro":"\\mathbf{o}"},"\\PLevBF":{"macro":"\\mathbf{P}"},"\\pLevBF":{"macro":"\\mathbf{p}"},"\\SLevBF":{"macro":"\\mathbf{S}"},"\\sLevBF":{"macro":"\\mathbf{s}"},"\\vLevBF":{"macro":"\\mathbf{v}"},"\\YLevBF":{"macro":"\\mathbf{Y}"},"\\yLevBF":{"macro":"\\mathbf{y}"},"\\ZLevBF":{"macro":"\\mathbf{Z}"},"\\zLevBF":{"macro":"\\pmb{z}"},"\\CDF":{"macro":"\\mathcal{F}"},"\\SDF":{"macro":"\\MLev"},"\\RfreeEff":{"macro":"\\bar{\\Rfree}"},"\\CGroPF":{"macro":"\\Lambda"},"\\cGroPF":{"macro":"\\lambda"},"\\WGroPF":{"macro":"\\mathrm{G}"},"\\MPCPPF":{"macro":"\\Pi"},"\\vBeg":{"macro":"\\upsilon"},"\\WBeg":{"macro":"\\KLev"},"\\wBeg":{"macro":"\\kLev"},"\\aAgg":{"macro":"\\mathsf{A}"},"\\cAgg":{"macro":"\\pmb{C}"},"\\permGroFacAgg":{"macro":"\\Phi"},"\\RfreeAgg":{"macro":"\\Agg{\\Rfree}"},"\\PermShkAgg":{"macro":"\\Psi"},"\\permShkAgg":{"macro":"\\Psi"},"\\TranShkAgg":{"macro":"\\Theta"},"\\tranShkAgg":{"macro":"\\Theta"},"\\permLvlAgg":{"macro":"\\mathrm{P}"},"\\PermLvlAgg":{"macro":"\\PLvl"},"\\zAgg":{"macro":"\\pmb{Z}"},"\\ShkMeanOneLog":{"macro":"\\theta"},"\\mBalLog":{"macro":"\\BalGroRte{m}"},"\\EpremLog":{"macro":"\\varphi"},"\\ShkLogZeroLog":{"macro":"\\cancel{\\ShkMeanOneLog}"},"\\pLog":{"macro":"p"},"\\ImpG":{"macro":"\\Im}_{\\PGro"},"\\impg":{"macro":"\\imath}_{\\pGro"},"\\ATarg":{"macro":"\\check{A}"},"\\aTarg":{"macro":"\\check{a}"},"\\BTarg":{"macro":"\\check{B}"},"\\bTarg":{"macro":"\\check{b}"},"\\CTarg":{"macro":"\\Target{C}"},"\\cTarg":{"macro":"\\check{c}"},"\\BTargTarg":{"macro":"\\Target{\\Target{\\BRat}}"},"\\bTargTarg":{"macro":"\\Target{\\Target{\\bRat}}"},"\\cTargTarg":{"macro":"\\Target{\\Target{\\cRat}}"},"\\STargTarg":{"macro":"\\Target{\\Target{\\SRat}}"},"\\sTargTarg":{"macro":"\\Target{\\Target{\\sRat}}"},"\\kTarg":{"macro":"\\Target{k}"},"\\mTarg":{"macro":"\\check{m}"},"\\STarg":{"macro":"\\Target{\\SRat}"},"\\sTarg":{"macro":"\\Target{\\sRat}"},"\\vTarg":{"macro":"\\Target{\\vRat}"},"\\yTarg":{"macro":"\\check{y}"},"\\CGroOverG":{"macro":"\\Upsilon"},"\\avg":{"macro":"\\bar"},"\\h":{"macro":"h"},"\\Wealth":{"macro":"O"},"\\wealth":{"macro":"o"},"\\Hi":{"macro":"\\hat"},"\\Chi":{"macro":"\\mathrm{X}"},"\\NI":{"macro":"Z"},"\\TaxUI":{"macro":"\\tau"},"\\adj":{"macro":"\\mathrm{j}"},"\\PermGroFacAdj":{"macro":"\\underline{\\PermGroFac}"},"\\PGroAdj":{"macro":"\\underline{\\PGro}"},"\\pGroAdj":{"macro":"\\underline{\\pGro}"},"\\PatPGroAdj":{"macro":"\\text{\\pmb{\\Thorn}}_{\\underline{\\PGro}}"},"\\patpGroAdj":{"macro":"\\text{\\thorn}_{\\underline{\\pGro}}"},"\\PermGroFacuAdj":{"macro":"\\underline{\\underline{\\PermGroFac}}"},"\\PGrouAdj":{"macro":"\\underline{\\underline{\\PGro}}"},"\\pGrouAdj":{"macro":"\\underline{\\underline{\\pGro}}"},"\\DiscAltuAdj":{"macro":"\\underline{\\underline{\\beth}}"},"\\TEndBak":{"macro":"\\mathsf{p}"},"\\tBak":{"macro":"\\pmb{n}"},"\\TEatBak":{"macro":"\\mathtt{q}"},"\\ek":{"macro":"\\lambda"},"\\Shk":{"macro":"\\Phi"},"\\shk":{"macro":"\\phi"},"\\PermShk":{"macro":"\\mathbf{\\Psi}"},"\\permShk":{"macro":"\\psi"},"\\uInvEuPermShk":{"macro":"\\underline{\\underline{\\PermShk}}"},"\\TranShk":{"macro":"\\pmb{\\xi}"},"\\PShk":{"macro":"\\Psi"},"\\pShk":{"macro":"\\psi"},"\\pshk":{"macro":"\\psi"},"\\TShk":{"macro":"\\Xi"},"\\tShk":{"macro":"\\xi"},"\\tshk":{"macro":"\\xi"},"\\Work":{"macro":"\\mathbb{W}"},"\\vk":{"macro":"\\lambda"},"\\util":{"macro":"u"},"\\TranShkAll":{"macro":"\\pmb{\\xi}"},"\\tShkAll":{"macro":"\\xi"},"\\WAll":{"macro":"O"},"\\wAll":{"macro":"o"},"\\Lvl":{"macro":"\\mathbf"},"\\ALvl":{"macro":"\\mathbf{A}"},"\\aLvl":{"macro":"\\mathbf{a}"},"\\BLvl":{"macro":"\\mathbf{B}"},"\\bLvl":{"macro":"\\mathbf{b}"},"\\CLvl":{"macro":"\\mathbf{C}"},"\\cLvl":{"macro":"\\mathbf{c}"},"\\DLvl":{"macro":"\\mathbf{D}"},"\\dLvl":{"macro":"\\mathbf{d}"},"\\ELvl":{"macro":"\\mathbf{E}"},"\\eLvl":{"macro":"\\mathbf{e}"},"\\FLvl":{"macro":"\\mathbf{F}"},"\\fLvl":{"macro":"\\mathbf{f}"},"\\GLvl":{"macro":"\\mathbf{G}"},"\\HLvl":{"macro":"\\mathbf{H}"},"\\hLvl":{"macro":"\\mathbf{h}"},"\\ILvl":{"macro":"\\mathbf{I}"},"\\iLvl":{"macro":"\\mathbf{i}"},"\\JLvl":{"macro":"\\mathbf{J}"},"\\jLvl":{"macro":"\\mathbf{j}"},"\\KLvl":{"macro":"\\mathbf{K}"},"\\kLvl":{"macro":"\\mathbf{k}"},"\\LLvl":{"macro":"\\mathbf{L}"},"\\ABalLvl":{"macro":"\\BalGroFac{\\ALvl}"},"\\MBalLvl":{"macro":"\\BalGroFac{\\MNrm}"},"\\mBalLvl":{"macro":"\\BalGroFac{m}"},"\\MLvl":{"macro":"\\mathbf{M}"},"\\mLvl":{"macro":"\\mathbf{m}"},"\\PermLvl":{"macro":"\\pLvl"},"\\NLvl":{"macro":"\\mathbf{N}"},"\\PopnLvl":{"macro":"\\pmb{\\mathrm{N}}"},"\\OLvl":{"macro":"\\mathbf{O}"},"\\PLvl":{"macro":"\\mathbf{P}"},"\\pLvl":{"macro":"\\mathbf{p}"},"\\QLvl":{"macro":"\\mathbf{Q}"},"\\RLvl":{"macro":"\\mathbf{R}"},"\\rLvl":{"macro":"\\mathbf{r}"},"\\SLvl":{"macro":"\\mathbf{S}"},"\\sLvl":{"macro":"\\mathbf{s}"},"\\TLvl":{"macro":"\\mathbf{T}"},"\\ULvl":{"macro":"\\mathbf{U}"},"\\VLvl":{"macro":"\\mathbf{V}"},"\\vLvl":{"macro":"\\mathbf{v}"},"\\WLvl":{"macro":"\\mathbf{W}"},"\\XLvl":{"macro":"\\mathbf{X}"},"\\YLvl":{"macro":"\\mathbf{Y}"},"\\yLvl":{"macro":"\\mathbf{y}"},"\\ZLvl":{"macro":"\\mathbf{Z}"},"\\zLvl":{"macro":"\\mathbf{z}"},"\\Ham":{"macro":"\\mathcal{H}"},"\\EPrem":{"macro":"\\Phi"},"\\eprem":{"macro":"\\varphi"},"\\tHorOfm":{"macro":"\\pmb{n}"},"\\debtLim":{"macro":"\\mathsf{d}"},"\\tTerm":{"macro":"T"},"\\vFirm":{"macro":"\\mathrm{e}"},"\\ANrm":{"macro":"A"},"\\aNrm":{"macro":"a"},"\\BNrm":{"macro":"B"},"\\bNrm":{"macro":"b"},"\\CNrm":{"macro":"C"},"\\cNrm":{"macro":"c"},"\\GPFacNrm":{"macro":"\\APFac_{\\PermGroFacAdj}"},"\\DNrm":{"macro":"D"},"\\dNrm":{"macro":"d"},"\\ENrm":{"macro":"E"},"\\eNrm":{"macro":"e"},"\\FNrm":{"macro":"F"},"\\fNrm":{"macro":"f"},"\\bTrgNrm":{"macro":"\\TargetNrm{\\bNrm}"},"\\mTrgNrm":{"macro":"\\TargetNrm{m}"},"\\HNrm":{"macro":"H"},"\\hNrm":{"macro":"h"},"\\INrm":{"macro":"I"},"\\iNrm":{"macro":"i"},"\\JNrm":{"macro":"J"},"\\jNrm":{"macro":"j"},"\\KNrm":{"macro":"K"},"\\kNrm":{"macro":"k"},"\\MNrm":{"macro":"M"},"\\mNrm":{"macro":"m"},"\\PNrm":{"macro":"P"},"\\pNrm":{"macro":"p"},"\\RNrm":{"macro":"\\mathcal{R}"},"\\rNrm":{"macro":"s"},"\\SNrm":{"macro":"S"},"\\sNrm":{"macro":"s"},"\\TargetNrm":{"macro":"\\hat"},"\\VNrm":{"macro":"V"},"\\vNrm":{"macro":"v"},"\\xNrm":{"macro":"x"},"\\YNrm":{"macro":"Y"},"\\yNrm":{"macro":"y"},"\\ZNrm":{"macro":"Z"},"\\zNrm":{"macro":"z"},"\\Rnorm":{"macro":"\\mathcal{R}"},"\\rnorm":{"macro":"\\mathit{r}"},"\\vNorm":{"macro":"\\mathrm{w}"},"\\WHum":{"macro":"\\HLev"},"\\wHum":{"macro":"\\hLev"},"\\Whum":{"macro":"\\HRat"},"\\whum":{"macro":"\\hRat"},"\\Num":{"macro":"N"},"\\VNum":{"macro":"V"},"\\vNum":{"macro":"v"},"\\Mean":{"macro":"\\mathbb{M}"},"\\tThen":{"macro":"\\tau"},"\\valfn":{"macro":"\\mathrm{v}"},"\\aMin":{"macro":"\\underline{\\aRat}"},"\\bMin":{"macro":"\\underline{\\bRat}"},"\\MPCmin":{"macro":"\\uline{\\kappa}"},"\\hEndMin":{"macro":"\\underline{\\mathfrak{h}}"},"\\aboveMin":{"macro":"\\blacktriangle"},"\\hMin":{"macro":"\\underline{\\h}"},"\\HMin":{"macro":"\\underline{H}"},"\\pShkMin":{"macro":"\\underline{\\psi}"},"\\whumMin":{"macro":"\\underline{\\hRat}"},"\\MPCminmin":{"macro":"\\underline{\\kappa}"},"\\TranShkEmpMin":{"macro":"\\underline{\\TranShkEmp}"},"\\tShkEmpMin":{"macro":"\\underline{\\theta}"},"\\MPSmin":{"macro":"\\pZero^{1/\\CRRA} \\RPFac"},"\\MPCmaxmin":{"macro":"\\hat{\\underline{\\kappa}}"},"\\Decision":{"macro":"\\mathbb{D}"},"\\SeveranceRatio":{"macro":"\\varsigma"},"\\Lo":{"macro":"\\check"},"\\ShkLogZero":{"macro":"\\cancel{\\ShkMeanOne}"},"\\pZero":{"macro":"\\wp"},"\\pNotZero":{"macro":"(1-\\pZero)"},"\\LGro":{"macro":"\\Lambda"},"\\lGro":{"macro":"\\lambda"},"\\PGro":{"macro":"\\Gamma"},"\\pGro":{"macro":"\\gamma"},"\\GDPGro":{"macro":"\\gimel"},"\\EmpGro":{"macro":"\\Xi"},"\\empGro":{"macro":"\\xi"},"\\PopGro":{"macro":"\\Xi"},"\\popGro":{"macro":"\\xi"},"\\PatPGro":{"macro":"\\text{\\pmb{\\Thorn}}_{\\PGro}"},"\\patpGro":{"macro":"\\text{\\thorn}_{\\pGro}"},"\\XperGro":{"macro":"\\mathsf{X}"},"\\xperGro":{"macro":"\\mathsf{x}"},"\\DivGro":{"macro":"\\mathrm{G}"},"\\divGro":{"macro":"\\mathsf{g}"},"\\WGro":{"macro":"\\mathrm{G}"},"\\wGro":{"macro":"\\mathsf{g}"},"\\RnormWGro":{"macro":"\\mathcal{R}_{\\WGro}"},"\\rnormwGro":{"macro":"\\mathit{r}_{\\wGro}"},"\\PatWGro":{"macro":"\\text{\\pmb{\\Thorn}}_{\\WGro}"},"\\patwGro":{"macro":"\\text{\\thorn}_{\\wGro}"},"\\PtyGro":{"macro":"\\Phi"},"\\ptyGro":{"macro":"\\phi"},"\\RBoro":{"macro":"\\bar{\\Rfree}"},"\\rboro":{"macro":"\\bar{\\rfree}"},"\\Pareto":{"macro":"\\zeta"},"\\Kap":{"macro":"K"},"\\kap":{"macro":"k"},"\\EEndMap":{"macro":"\\mathsf{E}"},"\\TMap":{"macro":"\\mathscr{T}"},"\\cP":{"macro":"\\cons^{\\prime}"},"\\MPCP":{"macro":"\\pi"},"\\taxDep":{"macro":"\\partial"},"\\FP":{"macro":"\\mathrm{F}^{\\prime}"},"\\fP":{"macro":"\\mathrm{f}^{\\prime}"},"\\TranShkEmp":{"macro":"\\pmb{\\theta}"},"\\TShkEmp":{"macro":"\\Theta"},"\\tShkEmp":{"macro":"\\theta"},"\\IncUnemp":{"macro":"\\mu"},"\\Pop":{"macro":"L"},"\\cPP":{"macro":"\\cons^{\\prime\\prime}"},"\\FPP":{"macro":"\\mathrm{F}^{\\prime\\prime}"},"\\fPP":{"macro":"\\mathrm{f}^{\\prime\\prime}"},"\\cPPP":{"macro":"\\cons^{\\prime\\prime\\prime}"},"\\uPPP":{"macro":"\\mathrm{u}^{\\prime\\prime\\prime}"},"\\uPP":{"macro":"\\mathrm{u}^{\\prime\\prime}"},"\\TaxCorp":{"macro":"\\Large \\tau"},"\\taxCorp":{"macro":"\\tau"},"\\uP":{"macro":"\\mathrm{u}^{\\prime}"},"\\q":{"macro":"\\koppa"},"\\adjPar":{"macro":"\\omega"},"\\tranShkIndVar":{"macro":"\\sigma^{2}_{\\tranShkInd}"},"\\tranShkAggVar":{"macro":"\\sigma^{2}_{\\tranShkAgg}"},"\\ShkMeanOneLogVar":{"macro":"\\sigma^{2}_{\\ShkMeanOneLog}"},"\\ShkLogZeroLogVar":{"macro":"\\sigma_{\\cancel{\\ShkMeanOneLog}}^{2}"},"\\PermShkVar":{"macro":"\\sigma^{2}_{\\PermShk}"},"\\TranShkVar":{"macro":"\\sigma^{2}_{\\TranShk}"},"\\sdr":{"macro":"\\mRat"},"\\Estdr":{"macro":"\\sigma_{\\risky}"},"\\xFer":{"macro":"\\chi"},"\\XFer":{"macro":"X"},"\\nIter":{"macro":"n"},"\\power":{"macro":"\\eta"},"\\labor":{"macro":"\\ell"},"\\Labor":{"macro":"\\mathrm{L}"},"\\PLabor":{"macro":"P"},"\\Plabor":{"macro":"P"},"\\tHor":{"macro":"\\mathsf{n}"},"\\error":{"macro":"\\epsilon"},"\\Depr":{"macro":"\\daleth"},"\\depr":{"macro":"\\delta"},"\\ImpR":{"macro":"\\Im}_{\\Rfree"},"\\impr":{"macro":"\\imath}_{\\rfree"},"\\EVarr":{"macro":"\\sigma_{\\Risky}^{2}"},"\\Evarr":{"macro":"\\sigma_{\\risky}^{2}"},"\\Err":{"macro":"Z"},"\\err":{"macro":"z"},"\\CGroOverR":{"macro":"\\Phi"},"\\corr":{"macro":"\\varrho"},"\\curr":{"macro":"1"},"\\Curr":{"macro":"t"},"\\tCurr":{"macro":"t"},"\\PatR":{"macro":"\\text{\\pmb{\\Thorn}}_{\\Rfree}"},"\\patr":{"macro":"\\text{\\thorn}_{\\rfree}"},"\\PDies":{"macro":"\\mathsf{D}"},"\\pDies":{"macro":"\\mathsf{d}"},"\\PLives":{"macro":"\\cancel{\\PDies}"},"\\pLives":{"macro":"\\cancel{\\pDies}"},"\\Stocks":{"macro":"S"},"\\stocks":{"macro":"s"},"\\TaxNetTrans":{"macro":"Z"},"\\taxNetTrans":{"macro":"z"},"\\unins":{"macro":"\\zeta"},"\\Cons":{"macro":"C"},"\\cons":{"macro":"c"},"\\MPS":{"macro":"\\lambda"},"\\MinMPS":{"macro":"\\pZero^{1/\\CRRA} \\PatR"},"\\MaxMPS":{"macro":"\\PatR"},"\\CGroPS":{"macro":"\\chi"},"\\Hours":{"macro":"\\mathfrak{H}"},"\\hours":{"macro":"\\mathfrak{h}"},"\\ASS":{"macro":"A"},"\\aSS":{"macro":"a"},"\\cEss":{"macro":"{c}^{e}"},"\\mEss":{"macro":"\\check{m}^{e}"},"\\vEss":{"macro":"\\check{v}^{e}"},"\\MSS":{"macro":"\\breve{M}"},"\\mSS":{"macro":"\\breve{m}"},"\\RGross":{"macro":"\\breve{\\mathsf{R}}"},"\\rGross":{"macro":"\\breve{\\mathsf{r}}"},"\\tSS":{"macro":"t"},"\\effUnits":{"macro":"X"},"\\Surplus":{"macro":"Z"},"\\surplus":{"macro":"z"},"\\TEat":{"macro":"\\TEnd"},"\\patpGrohat":{"macro":"\\hat{\\text{\\thorn}}_{\\pGro}"},"\\aMat":{"macro":"[\\mathrm{a}]"},"\\bMat":{"macro":"[\\mathrm{\\bNrm}]"},"\\cMat":{"macro":"[\\mathrm{\\cNrm}]"},"\\tShkMat":{"macro":"[\\mathrm{\\tShkEmp}]"},"\\mMat":{"macro":"[\\mathrm{m}]"},"\\xMat":{"macro":"[\\mathrm{\\xNrm}]"},"\\yMat":{"macro":"[\\mathrm{\\yNrm}]"},"\\Pat":{"macro":"\\text{\\pmb{\\Thorn}}"},"\\pat":{"macro":"\\text{\\thorn}"},"\\ARat":{"macro":"A"},"\\aRat":{"macro":"a"},"\\NFARat":{"macro":"\\NRat"},"\\BRat":{"macro":"B"},"\\bRat":{"macro":"b"},"\\CRat":{"macro":"C"},"\\cRat":{"macro":"c"},"\\ccRat":{"macro":"\\mathsf{c}"},"\\dRat":{"macro":"d"},"\\WEndRat":{"macro":"\\ARat"},"\\wEndRat":{"macro":"\\aRat"},"\\HRat":{"macro":"H"},"\\hRat":{"macro":"h"},"\\IRat":{"macro":"I"},"\\iRat":{"macro":"i"},"\\KRat":{"macro":"K"},"\\kRat":{"macro":"k"},"\\LRat":{"macro":"L"},"\\lRat":{"macro":"l"},"\\WAllRat":{"macro":"O"},"\\wAllRat":{"macro":"o"},"\\MRat":{"macro":"M"},"\\mRat":{"macro":"m"},"\\NRat":{"macro":"N"},"\\nRat":{"macro":"n"},"\\ORat":{"macro":"O"},"\\oRat":{"macro":"o"},"\\pRat":{"macro":"p"},"\\GDPRat":{"macro":"P"},"\\gdpRat":{"macro":"p"},"\\SRat":{"macro":"S"},"\\sRat":{"macro":"s"},"\\VRat":{"macro":"V"},"\\vRat":{"macro":"v"},"\\WRat":{"macro":"O"},"\\wRat":{"macro":"o"},"\\XRat":{"macro":"X"},"\\xRat":{"macro":"x"},"\\YRat":{"macro":"Y"},"\\yRat":{"macro":"y"},"\\ZRat":{"macro":"Z"},"\\zRat":{"macro":"z"},"\\Debt":{"macro":"D"},"\\debt":{"macro":"d"},"\\Target":{"macro":"\\check"},"\\WNet":{"macro":"X"},"\\wNet":{"macro":"x"},"\\straight":{"macro":"\\Pi"},"\\weight":{"macro":"\\omega"},"\\Habit":{"macro":"H"},"\\habit":{"macro":"h"},"\\WMkt":{"macro":"\\MLev"},"\\wMkt":{"macro":"\\mLev"},"\\wmkt":{"macro":"\\mLev"},"\\Alt":{"macro":"\\grave"},"\\DiscFacAlt":{"macro":"\\beth"},"\\DiscAlt":{"macro":"\\beth"},"\\ValAlt":{"macro":"\\mathcal{V}"},"\\vOptAlt":{"macro":"\\grave{\\tilde{\\mathfrak{v}}}"},"\\RiskyAlt":{"macro":"\\pmb{\\mathfrak{R}}"},"\\riskyAlt":{"macro":"\\pmb{\\mathfrak{r}}"},"\\uPmt":{"macro":"\\mu"},"\\SeverancePayment":{"macro":"\\mathcal{S}"},"\\kapRent":{"macro":"\\varkappa"},"\\Discount":{"macro":"\\beta"},"\\tinyAmount":{"macro":"\\epsilon"},"\\WTot":{"macro":"\\mathbf{O}"},"\\wTot":{"macro":"\\mathbf{o}"},"\\Wtot":{"macro":"O"},"\\wtot":{"macro":"o"},"\\vOpt":{"macro":"\\tilde{\\mathfrak{v}}"},"\\Rport":{"macro":"\\mathbb{R}"},"\\rport":{"macro":"\\mathbb{r}"},"\\FDist":{"macro":"\\mathcal{F}"},"\\fDist":{"macro":"\\mathcal{f}"},"\\Next":{"macro":"t+1"},"\\tNext":{"macro":"t+1"},"\\BU":{"macro":"{B}^{u}"},"\\bU":{"macro":"{b}^{u}"},"\\CU":{"macro":"\\CRat^{u}"},"\\cU":{"macro":"\\cRat^{u}"},"\\MPCU":{"macro":"\\MPC^{u}"},"\\MU":{"macro":"{M}^{u}"},"\\mU":{"macro":"{m}^{u}"},"\\PopU":{"macro":"\\mathcal{U}"},"\\SU":{"macro":"\\SRat^{u}"},"\\sU":{"macro":"\\sRat^{u}"},"\\PatU":{"macro":"\\text{\\pmb{\\Thorn}}_{\\urate}"},"\\patu":{"macro":"\\text{\\thorn}_{\\urate}"},"\\bRatU":{"macro":"{b}^{u}"},"\\CRatU":{"macro":"\\CRat^{u}"},"\\cRatU":{"macro":"\\cRat^{u}"},"\\SRatU":{"macro":"\\SRat^{u}"},"\\sRatU":{"macro":"\\sRat^{u}"},"\\VU":{"macro":"{V}^{u}"},"\\vU":{"macro":"{v}^{u}"},"\\BLevU":{"macro":"\\BLev^{u}"},"\\bLevU":{"macro":"\\bLev^{u}"},"\\CLevU":{"macro":"\\CLev^{u}"},"\\cLevU":{"macro":"\\cLev^{u}"},"\\SLevU":{"macro":"\\SLev^{u}"},"\\sLevU":{"macro":"\\sLev^{u}"},"\\pSav":{"macro":"\\phi"},"\\PDV":{"macro":"\\mathbb{P}"},"\\CPDV":{"macro":"\\text{PDV($C$)}"},"\\PPDV":{"macro":"\\text{PDV($P$)}"},"\\ALev":{"macro":"A"},"\\aLev":{"macro":"a"},"\\NFALev":{"macro":"\\NLev"},"\\BLev":{"macro":"B"},"\\bLev":{"macro":"b"},"\\CLev":{"macro":"C"},"\\cLev":{"macro":"c"},"\\DLev":{"macro":"D"},"\\ELev":{"macro":"E"},"\\FLev":{"macro":"F"},"\\fLev":{"macro":"f"},"\\GLev":{"macro":"G"},"\\HLev":{"macro":"\\pmb{H}"},"\\hLev":{"macro":"\\pmb{h}"},"\\ILev":{"macro":"I"},"\\iLev":{"macro":"i"},"\\JLev":{"macro":"J"},"\\KLev":{"macro":"K"},"\\kLev":{"macro":"k"},"\\lLev":{"macro":"\\ell"},"\\LLev":{"macro":"L"},"\\WAllLev":{"macro":"\\mathbf{O}"},"\\wAllLev":{"macro":"\\mathbf{o}"},"\\MLev":{"macro":"M"},"\\mLev":{"macro":"m"},"\\NLev":{"macro":"N"},"\\nLev":{"macro":"n"},"\\oLev":{"macro":"\\pmb{o}"},"\\OLev":{"macro":"O"},"\\pLev":{"macro":"\\pmb{p}"},"\\PLev":{"macro":"P"},"\\GDPLev":{"macro":"\\pmb{P}"},"\\gdpLev":{"macro":"\\pmb{p}"},"\\PopLev":{"macro":"\\pmb{N}"},"\\QLev":{"macro":"Q"},"\\RLev":{"macro":"R"},"\\SLev":{"macro":"S"},"\\sLev":{"macro":"s"},"\\TLev":{"macro":"T"},"\\ULev":{"macro":"U"},"\\uLev":{"macro":"u"},"\\VLev":{"macro":"V"},"\\vLev":{"macro":"v"},"\\wLev":{"macro":"\\pmb{w}"},"\\WLev":{"macro":"W"},"\\XLev":{"macro":"X"},"\\xLev":{"macro":"x"},"\\TaxLev":{"macro":"T"},"\\YLev":{"macro":"Y"},"\\yLev":{"macro":"y"},"\\PtyLev":{"macro":"A"},"\\ptyLev":{"macro":"a"},"\\ZLev":{"macro":"Z"},"\\zLev":{"macro":"z"},"\\Rev":{"macro":"\\Pi"},"\\rev":{"macro":"\\pi"},"\\tPrev":{"macro":"t-1"},"\\Div":{"macro":"D"},"\\DiscFacLiv":{"macro":"\\underline{\\DiscFacRaw}"},"\\Inv":{"macro":"I"},"\\inv":{"macro":"i"},"\\TaxCombInv":{"macro":"\\mathcal{T}^{-1}"},"\\EPermShkInv":{"macro":"\\Ex[\\PermShk^{-1}]"},"\\InvEPermShkInv":{"macro":"\\underline{\\PermShk}"},"\\EpShkInv":{"macro":"\\Ex[\\pShk^{-1}]"},"\\InvEpShkInv":{"macro":"\\underline{\\psi}"},"\\uInvEpShkuInv":{"macro":"\\underline{\\underline{\\psi}}"},"\\VInv":{"macro":"\\Lambda"},"\\vInv":{"macro":"\\scriptstyle \\Lambda \\displaystyle"},"\\cov":{"macro":"\\textup{cov}"},"\\DiscFacRaw":{"macro":"\\beta"},"\\GPFacRaw":{"macro":"\\APFac_{\\PermGroFac}"},"\\Belw":{"macro":"\\ushort"},"\\GovNW":{"macro":"N"},"\\govNW":{"macro":"n"},"\\cFuncBelow":{"macro":"\\uline{\\mathrm{c}}"},"\\tNow":{"macro":"t"},"\\cFuncMax":{"macro":"\\bar{\\bar{\\mathrm{c}}}"},"\\MPCmax":{"macro":"\\bar{\\kappa}"},"\\MPSmax":{"macro":"\\RPFac"},"\\MPCmaxmax":{"macro":"\\bar{\\bar{\\kappa}}"},"\\Tax":{"macro":"\\tau"},"\\tax":{"macro":"\\tau"},"\\Ex":{"macro":"\\mathbb{E}"},"\\prudEx":{"macro":"\\omega"},"\\Steady":{"macro":"\\bar"},"\\Risky":{"macro":"\\mathbf{R}"},"\\risky":{"macro":"\\mathbf{r}"},"\\Seniority":{"macro":"\\mathsf{X}"},"\\seniority":{"macro":"\\mathsf{x}"}},"abbreviations":{"GP":"Gaussian Process","GPR":"Gaussian Process Regression","EGM":"Endogenous Grid Method","NEGM":"Nested Endogenous Grid Method","G2EGM":"Generalized Endogenous Grid Method","DCEGM":"Discrete Choice Endogenous Grid Method","WGI":"Warped Grid Interpolation"},"exports":[{"format":"ipynb","filename":"example_ConsPensionModel_baseline.ipynb","url":"/SequentialEGM/build/example_ConsPensionM-eebb5b92e122faf4d25f3a606c06353f.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:47.746566Z","iopub.status.busy":"2024-02-29T22:51:47.746566Z","iopub.status.idle":"2024-02-29T22:51:47.757585Z","shell.execute_reply":"2024-02-29T22:51:47.757585Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import sys\n\nsys.path.append(\"../\")","key":"zW1DoZngYr"},{"type":"output","id":"77nuMevJ32KtYdb-3A9QZ","data":[],"key":"HelhpOf4xp"}],"key":"gzcG5I4hsN"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:47.760586Z","iopub.status.busy":"2024-02-29T22:51:47.760586Z","iopub.status.idle":"2024-02-29T22:51:49.937347Z","shell.execute_reply":"2024-02-29T22:51:49.937347Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom egmn.ConsPensionModel import PensionConsumerType, init_pension_contrib\nfrom egmn.utilities import plot_3d_func, plot_scatter_hist\nfrom HARK.interpolation._sklearn import GeneralizedRegressionUnstructuredInterp\n\nfigures_path = \"../../content/figures/\"","key":"WncaO8Zodd"},{"type":"output","id":"DVZ4ZKpUcx0FumfNJoDvr","data":[{"name":"stderr","output_type":"stream","text":"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\numba\\core\\decorators.py:262: NumbaDeprecationWarning: \u001b[1mnumba.generated_jit is deprecated. Please see the documentation at: https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-generated-jit for more information and advice on a suitable replacement.\u001b[0m\n  warnings.warn(msg, NumbaDeprecationWarning)\n"}],"key":"qdXSOsJWUO"}],"key":"Pj6AG51RhP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:49.941350Z","iopub.status.busy":"2024-02-29T22:51:49.940349Z","iopub.status.idle":"2024-02-29T22:51:49.952906Z","shell.execute_reply":"2024-02-29T22:51:49.952906Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"baseline_params = init_pension_contrib.copy()\nbaseline_params[\"mCount\"] = 50\nbaseline_params[\"mMax\"] = 10\nbaseline_params[\"mNestFac\"] = -1\n\nbaseline_params[\"nCount\"] = 50\n\nbaseline_params[\"nMax\"] = 12\nbaseline_params[\"nNestFac\"] = -1\n\nbaseline_params[\"lCount\"] = 50\nbaseline_params[\"lMax\"] = 9\nbaseline_params[\"lNestFac\"] = -1\n\nbaseline_params[\"blCount\"] = 50\nbaseline_params[\"blMax\"] = 13\nbaseline_params[\"blNestFac\"] = -1\n\nbaseline_params[\"aCount\"] = 50\nbaseline_params[\"aMax\"] = 8\nbaseline_params[\"aNestFac\"] = -1\n\nbaseline_params[\"bCount\"] = 50\nbaseline_params[\"bMax\"] = 14\nbaseline_params[\"bNestFac\"] = -1\n\nbaseline_params[\"cycles\"] = 1","key":"ynCT97udfC"},{"type":"output","id":"FuYMrWiyhClXIFeYpdoPG","data":[],"key":"ozYfOgE8gP"}],"key":"iqGU5Xj6tj"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:49.956931Z","iopub.status.busy":"2024-02-29T22:51:49.956272Z","iopub.status.idle":"2024-02-29T22:51:49.984544Z","shell.execute_reply":"2024-02-29T22:51:49.984544Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"agent = PensionConsumerType(**baseline_params)","key":"maISVZvVN5"},{"type":"output","id":"zWZ_QdKec3Zc6fCn6tBDi","data":[],"key":"zzYjiIs38i"}],"key":"yZCGnaasT9"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:49.988003Z","iopub.status.busy":"2024-02-29T22:51:49.988003Z","iopub.status.idle":"2024-02-29T22:51:53.561534Z","shell.execute_reply":"2024-02-29T22:51:53.560534Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"agent.solve()\n\nT = 0","key":"oFYua3q3mT"},{"type":"output","id":"ecZYngwD-1w0vHGC9E7Nk","data":[{"name":"stderr","output_type":"stream","text":"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py:232: NumbaPendingDeprecationWarning: \u001b[1m\u001b[1m\u001b[1m\u001b[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors\nException origin:\n  File \"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py\", line 116, in __eval_spline\n    kk = (order).literal_value\n\u001b[0m\u001b[0m\u001b[0m\u001b[0m\n  return _eval_linear(*args)\n"},{"name":"stderr","output_type":"stream","text":"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py:232: NumbaPendingDeprecationWarning: \u001b[1m\u001b[1m\u001b[1m\u001b[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors\nException origin:\n  File \"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py\", line 116, in __eval_spline\n    kk = (order).literal_value\n\u001b[0m\u001b[0m\u001b[0m\u001b[0m\n  return _eval_linear(*args)\n"}],"key":"k3kUIqvwl0"}],"key":"BRDAPNbb6f"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Post Decision Stage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vv2X32TBdK"}],"identifier":"post-decision-stage","label":"Post Decision Stage","html_id":"post-decision-stage","implicit":true,"enumerator":"1","key":"JLKZTnhy9k"}],"key":"Y4wqR5PWtr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:53.564533Z","iopub.status.busy":"2024-02-29T22:51:53.563535Z","iopub.status.idle":"2024-02-29T22:51:54.695406Z","shell.execute_reply":"2024-02-29T22:51:54.694478Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].post_decision_stage.v_func.vFuncNvrs, [0, 5], [0, 5])","key":"kCxsFidePl"},{"type":"output","id":"u4WMkAPIQJIb7wTETflQS","data":[{"name":"stderr","output_type":"stream","text":"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py:232: NumbaPendingDeprecationWarning: \u001b[1m\u001b[1m\u001b[1m\u001b[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors\nException origin:\n  File \"C:\\Users\\alujan\\micromamba\\envs\\egmn-dev\\lib\\site-packages\\interpolation\\splines\\eval_splines.py\", line 116, in __eval_spline\n    kk = (order).literal_value\n\u001b[0m\u001b[0m\u001b[0m\u001b[0m\n  return _eval_linear(*args)\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8cfd476ac8bbd22e6872dbb6af224bfe","path":"/SequentialEGM/build/8cfd476ac8bbd22e6872dbb6af224bfe.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"f5dZvFqbpf"}],"key":"wo4d9hA2N1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:54.697915Z","iopub.status.busy":"2024-02-29T22:51:54.697915Z","iopub.status.idle":"2024-02-29T22:51:55.006265Z","shell.execute_reply":"2024-02-29T22:51:55.006090Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].post_decision_stage.dvda_func.cFunc, [0, 5], [0, 5])","key":"HV83lAdMHs"},{"type":"output","id":"S8ODpmOMhKRT_i-xn-AFO","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e436acf4dc00c6ae984a2daeb7e90fbc","path":"/SequentialEGM/build/e436acf4dc00c6ae984a2daeb7e90fbc.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"wDPhe0A4Nm"}],"key":"FYAKird19U"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:55.009268Z","iopub.status.busy":"2024-02-29T22:51:55.009268Z","iopub.status.idle":"2024-02-29T22:51:55.333085Z","shell.execute_reply":"2024-02-29T22:51:55.332086Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].post_decision_stage.dvdb_func.cFunc, [0, 5], [0, 5])","key":"oQHARAHSqy"},{"type":"output","id":"YiV4QiEPdkb79Ni8x2AmP","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"66a287e684a83a67cffcd7e3e8fa5798","path":"/SequentialEGM/build/66a287e684a83a67cffcd7e3e8fa5798.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"KisPr0VzIO"}],"key":"NcXkv0Mpa5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Consumption Stage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fCSPEvvX6n"}],"identifier":"consumption-stage","label":"Consumption Stage","html_id":"consumption-stage","implicit":true,"enumerator":"2","key":"bDg8c0zSET"}],"key":"PorANI7MEQ"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:55.336122Z","iopub.status.busy":"2024-02-29T22:51:55.336122Z","iopub.status.idle":"2024-02-29T22:51:55.642360Z","shell.execute_reply":"2024-02-29T22:51:55.642360Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].consumption_stage.c_func, [0, 5], [0, 5])","key":"V5Hdix1ktD"},{"type":"output","id":"TIN6Wrb_rb1T-R5hETIYs","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1080d433f7b712b1aa1bdff5db91351e","path":"/SequentialEGM/build/1080d433f7b712b1aa1bdff5db91351e.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"sLPsyFTecF"}],"key":"HGqjpVtBVu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:55.646137Z","iopub.status.busy":"2024-02-29T22:51:55.645370Z","iopub.status.idle":"2024-02-29T22:51:56.090553Z","shell.execute_reply":"2024-02-29T22:51:56.090553Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].consumption_stage.v_func.vFuncNvrs, [0, 5], [0, 5])","key":"MKgaFnocox"},{"type":"output","id":"htAIj3rvQEaLTrZ6V7Jod","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"997ecdb017b14ecf83206b56599cb732","path":"/SequentialEGM/build/997ecdb017b14ecf83206b56599cb732.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"OBkpUX8P09"}],"key":"B2GDNCutHw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:56.093554Z","iopub.status.busy":"2024-02-29T22:51:56.093554Z","iopub.status.idle":"2024-02-29T22:51:56.418986Z","shell.execute_reply":"2024-02-29T22:51:56.417986Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].consumption_stage.dvdl_func.cFunc, [0, 5], [0, 5])","key":"xSrK1kSFmd"},{"type":"output","id":"NS4uHHdn2MnRRwvdN7EJX","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1080d433f7b712b1aa1bdff5db91351e","path":"/SequentialEGM/build/1080d433f7b712b1aa1bdff5db91351e.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"iwcfzO97Ly"}],"key":"yq0dNs4Iv0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:56.421986Z","iopub.status.busy":"2024-02-29T22:51:56.421986Z","iopub.status.idle":"2024-02-29T22:51:56.730958Z","shell.execute_reply":"2024-02-29T22:51:56.730958Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].consumption_stage.dvdb_func.cFunc, [0, 5], [0, 5])","key":"OYZ2aCMBKd"},{"type":"output","id":"CY3Gq2ZkndC2rRIyuMuSC","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cdd549e817c3c868e3a47d86a3963b38","path":"/SequentialEGM/build/cdd549e817c3c868e3a47d86a3963b38.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"Iyr7ZE5MxL"}],"key":"e3bBqm4167"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Deposit Stage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GAhhzF0qbQ"}],"identifier":"deposit-stage","label":"Deposit Stage","html_id":"deposit-stage","implicit":true,"enumerator":"3","key":"qZWoOSZzen"}],"key":"cX0cfhPf0E"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:56.734464Z","iopub.status.busy":"2024-02-29T22:51:56.734464Z","iopub.status.idle":"2024-02-29T22:51:57.121307Z","shell.execute_reply":"2024-02-29T22:51:57.120307Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].deposit_stage.d_func, [0, 5], [0, 5])","key":"PQS168omjI"},{"type":"output","id":"WphaVqX7JLdBDLZKEKFdl","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5dae4dc774b58251f8fbd1cdd44e21df","path":"/SequentialEGM/build/5dae4dc774b58251f8fbd1cdd44e21df.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"TyDIPmZaey"}],"key":"iWJYtg213n"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:57.125322Z","iopub.status.busy":"2024-02-29T22:51:57.124815Z","iopub.status.idle":"2024-02-29T22:51:57.465930Z","shell.execute_reply":"2024-02-29T22:51:57.465424Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].deposit_stage.c_func, [0, 5], [0, 5])","key":"DHvE6kPhTu"},{"type":"output","id":"ZKsUVCD7nrQeS0saWRbqS","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6c75a5cbe4db96a78fc94843be2c18fd","path":"/SequentialEGM/build/6c75a5cbe4db96a78fc94843be2c18fd.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"MK2SOuOUMZ"}],"key":"ObMikqXg6p"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:57.469937Z","iopub.status.busy":"2024-02-29T22:51:57.469937Z","iopub.status.idle":"2024-02-29T22:51:57.806300Z","shell.execute_reply":"2024-02-29T22:51:57.805363Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].deposit_stage.v_func.vFuncNvrs, [0, 5], [0, 5])","key":"RJ7fKZOt9H"},{"type":"output","id":"nJlUzrUBtsJSLeKnhHgye","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"97fcbd06ff451a74179e42749d2da2c2","path":"/SequentialEGM/build/97fcbd06ff451a74179e42749d2da2c2.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"WjxkHpwoBB"}],"key":"hqKUVJ5xsn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:51:57.809299Z","iopub.status.busy":"2024-02-29T22:51:57.809299Z","iopub.status.idle":"2024-02-29T22:51:58.149370Z","shell.execute_reply":"2024-02-29T22:51:58.148295Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].deposit_stage.dvdm_func.cFunc, [0, 5], [0, 5])","key":"YxANZQxtYK"},{"type":"output","id":"5opu4sGPLc8JdejDCnzWN","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6c75a5cbe4db96a78fc94843be2c18fd","path":"/SequentialEGM/build/6c75a5cbe4db96a78fc94843be2c18fd.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"RCeQN8Dwd4"}],"key":"YOJ8MBpmPN"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:58.153354Z","iopub.status.busy":"2024-02-29T22:51:58.152840Z","iopub.status.idle":"2024-02-29T22:51:58.662792Z","shell.execute_reply":"2024-02-29T22:51:58.662792Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_3d_func(agent.solution[T].deposit_stage.dvdn_func.cFunc, [0, 5], [0, 5])","key":"EtdaGQWT2k"},{"type":"output","id":"oMLCMugktspaeTgCiRXTa","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"081cd8a72f032ab423930a60cb3ca521","path":"/SequentialEGM/build/081cd8a72f032ab423930a60cb3ca521.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"WsfkyvG9LV"}],"key":"Q4MdUJyNKJ"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:51:58.666815Z","iopub.status.busy":"2024-02-29T22:51:58.666815Z","iopub.status.idle":"2024-02-29T22:52:00.202942Z","shell.execute_reply":"2024-02-29T22:52:00.201940Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"%time\nplot_3d_func(agent.solution[T].deposit_stage.gaussian_interp, [0, 5], [0, 5])","key":"geeuIqiPzE"},{"type":"output","id":"EXgqPpRmJRz_hIpBnlwU-","data":[{"name":"stdout","output_type":"stream","text":"CPU times: total: 0 ns\nWall time: 0 ns\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7ec9e29b5be546ddacddaadca94a45d4","path":"/SequentialEGM/build/7ec9e29b5be546ddacddaadca94a45d4.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"e915cAx8IG"}],"key":"vXfeHznhS0"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":2},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Grids","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zpngpKcrxm"}],"identifier":"grids","label":"Grids","html_id":"grids","implicit":true,"enumerator":"4","key":"DevVSTeVKq"}],"key":"ZANCjoIClD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:00.206397Z","iopub.status.busy":"2024-02-29T22:52:00.205963Z","iopub.status.idle":"2024-02-29T22:52:00.217996Z","shell.execute_reply":"2024-02-29T22:52:00.216994Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"grids = agent.solution[T].consumption_stage.grids_before_cleanup","key":"LS4W7SlP1G"},{"type":"output","id":"dVXeMheH0TSmxgHYZbv93","data":[],"key":"mQtqtZuT5I"}],"key":"Sgjex0VNqj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:00.220996Z","iopub.status.busy":"2024-02-29T22:52:00.220996Z","iopub.status.idle":"2024-02-29T22:52:01.786494Z","shell.execute_reply":"2024-02-29T22:52:01.785412Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_scatter_hist(\n    grids[\"lMat\"],\n    grids[\"blMat\"],\n    grids[\"dMat\"],\n    \"Pension Deposit on Exogenous Grid\",\n    r\"Market Resources $\\ell$\",\n    \"Retirement balance $b$\",\n    \"PensionExogenousGrid\",\n)","key":"XiKSYH3Gcp"},{"type":"output","id":"vwJ-z2K8fSdBGB9OFm4zx","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"33f19e00bde3876757715fa38497f7ce","path":"/SequentialEGM/build/33f19e00bde3876757715fa38497f7ce.png"},"text/plain":{"content":"<Figure size 600x600 with 2 Axes>","content_type":"text/plain"}}}],"key":"c47g0ouFxG"}],"key":"D80lFakRa2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:01.788924Z","iopub.status.busy":"2024-02-29T22:52:01.788924Z","iopub.status.idle":"2024-02-29T22:52:02.980746Z","shell.execute_reply":"2024-02-29T22:52:02.980746Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_scatter_hist(\n    grids[\"mMat\"],\n    grids[\"nMat\"],\n    grids[\"dMat\"],\n    \"Pension Deposit on Endogenous Grid\",\n    \"Market Resources $m$\",\n    \"Retirement balance $n$\",\n    \"PensionEndogenousGrid\",\n)","key":"PB7vRNFOv0"},{"type":"output","id":"vUlvLCR0E-bDmdmzPCkbo","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ff1448f6a97edaef0d0630e4a102d0df","path":"/SequentialEGM/build/ff1448f6a97edaef0d0630e4a102d0df.png"},"text/plain":{"content":"<Figure size 600x600 with 2 Axes>","content_type":"text/plain"}}}],"key":"KX8qzve6Oo"}],"key":"YCZ3CVsL5Q"},{"type":"block","kind":"notebook-code","data":{"collapsed":false,"execution":{"iopub.execute_input":"2024-02-29T22:52:02.984253Z","iopub.status.busy":"2024-02-29T22:52:02.984253Z","iopub.status.idle":"2024-02-29T22:52:04.631314Z","shell.execute_reply":"2024-02-29T22:52:04.630313Z"},"jupyter":{"outputs_hidden":false},"pycharm":{"name":"#%%\n"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_scatter_hist(\n    agent.solution[T].deposit_stage.gaussian_interp.grids[0],\n    agent.solution[T].deposit_stage.gaussian_interp.grids[1],\n    agent.solution[T].deposit_stage.gaussian_interp.values,\n    \"Pension Deposit on Endogenous Grid\",\n    \"Market Resources $m$\",\n    \"Retirement balance $n$\",\n    \"2ndStagePensionEndogenousGrid\",\n)","key":"hg37N4hKgq"},{"type":"output","id":"1IubDdEuNyHIROF_1baOh","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b2e880e31dfd8383b56dfee940f0d99b","path":"/SequentialEGM/build/b2e880e31dfd8383b56dfee940f0d99b.png"},"text/plain":{"content":"<Figure size 600x600 with 2 Axes>","content_type":"text/plain"}}}],"key":"UesHD57lbN"}],"key":"DFpwQiiDcD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:04.635324Z","iopub.status.busy":"2024-02-29T22:52:04.634819Z","iopub.status.idle":"2024-02-29T22:52:04.909207Z","shell.execute_reply":"2024-02-29T22:52:04.908205Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots()\nplot = ax.scatter(\n    grids[\"mMat\"],\n    grids[\"nMat\"],\n    c=grids[\"dMat\"],\n    cmap=\"viridis\",\n    vmin=-1,\n    vmax=5,\n    plotnonfinite=True,\n    alpha=0.6,\n    s=5,\n)\ncbar = fig.colorbar(plot)\ncbar.ax.set_ylabel(\"Pension Deposits $d$\")\n\nplt.xlim([-1, 10])\nplt.ylim([-1, 10])","key":"f3K4WoLNd6"},{"type":"output","id":"pX7vGhGeEvDYhk7c2wXxb","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"(-1.0, 10.0)","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ed97a09c24054389a9aecf8ee3a69cd7","path":"/SequentialEGM/build/ed97a09c24054389a9aecf8ee3a69cd7.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}}],"key":"fm3oJ4aj8K"}],"key":"E96kL5t6Vf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:04.912205Z","iopub.status.busy":"2024-02-29T22:52:04.912205Z","iopub.status.idle":"2024-02-29T22:52:05.438266Z","shell.execute_reply":"2024-02-29T22:52:05.437264Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots()\nscatter = ax.scatter(\n    grids[\"lMat\"],\n    grids[\"blMat\"],\n    # c=np.maximum(grids[\"dMat\"], 0),\n    # cmap=\"viridis\",\n    vmin=-2,\n    vmax=15,\n    plotnonfinite=True,\n    alpha=0.6,\n    s=5,\n)\n# cbar = fig.colorbar(scatter)\n# cbar.ax.set_ylabel(\"Pension Deposits $d$\")\n\nplt.title(\"Pension Deposits on Exogenous Post-Decision Grid\")\nplt.xlabel(r\"Liquid Wealth $\\ell$\")\nplt.ylabel(\"Retirement Balance $b$\")\nfig.savefig(figures_path + \"SparsePensionExogenousGrid.svg\")\nfig.savefig(figures_path + \"SparsePensionExogenousGrid.pdf\")","key":"D4YnrTcUFG"},{"type":"output","id":"2BgAIlT7DFTyUv3B_HRXf","data":[{"name":"stderr","output_type":"stream","text":"C:\\Users\\alujan\\AppData\\Local\\Temp\\ipykernel_25100\\129224659.py:2: UserWarning: No data for colormapping provided via 'c'. Parameters 'vmin', 'vmax' will be ignored\n  scatter = ax.scatter(\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4d4a6c4e029a399da461a2c9ff982a65","path":"/SequentialEGM/build/4d4a6c4e029a399da461a2c9ff982a65.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"MO8AZfJ6qx"}],"key":"wNVtufN0Be"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:05.441268Z","iopub.status.busy":"2024-02-29T22:52:05.441268Z","iopub.status.idle":"2024-02-29T22:52:05.453282Z","shell.execute_reply":"2024-02-29T22:52:05.453282Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"grids = agent.solution[T].consumption_stage.grids_before_cleanup","key":"zABPzJLlmn"},{"type":"output","id":"JMnnvuWuZT37MjJARLmOs","data":[],"key":"V2bV3iDdkq"}],"key":"UcNUvwYYjV"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"frXjb6ZUlL"},{"type":"output","id":"t8TKnr6mZLeU7Kg0EtHGp","data":[],"key":"z4skzZC49P"}],"key":"gZEruueb1M"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:05.457313Z","iopub.status.busy":"2024-02-29T22:52:05.456315Z","iopub.status.idle":"2024-02-29T22:52:05.595410Z","shell.execute_reply":"2024-02-29T22:52:05.594497Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"gauss_interp = GeneralizedRegressionUnstructuredInterp(\n    grids[\"dMat\"],\n    [grids[\"mMat\"], grids[\"nMat\"]],\n    model=\"gaussian-process\",\n    std=True,\n    model_kwargs={\"normalize_y\": True},\n)","key":"jzZi8TGoKc"},{"type":"output","id":"WKQREa21a4vuzhFkcPYug","data":[],"key":"dhY64N3wW1"}],"key":"K9lAqeS7rS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-02-29T22:52:05.598924Z","iopub.status.busy":"2024-02-29T22:52:05.597923Z","iopub.status.idle":"2024-02-29T22:52:06.311531Z","shell.execute_reply":"2024-02-29T22:52:06.310529Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# get_ipython().run_line_magic(\"matplotlib\", \"widget\")\nplot_3d_func(gauss_interp, [0, 5], [0, 5])","key":"GZzupiT3CX"},{"type":"output","id":"QLN2tWDVAGDTizTB-HmLd","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b72788661ef0338ea9f14716edbd6639","path":"/SequentialEGM/build/b72788661ef0338ea9f14716edbd6639.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"rfCoQfjcGY"}],"key":"ARypO4T36u"}],"key":"H0XWA04gaF"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Appendix: Solving the illustrative G2EGM model with EGM^n","url":"/appendix","group":"Content"},"next":{"title":"example-conslaborportfoliomodel","url":"/example-conslaborportfoliomodel","group":"Code"}}},"domain":"http://localhost:3000"}