var m=/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;function n(t){return t?t.match(m)!==null:!1}var c={test(t){return!!t.hostname.match(/(?:dx\.)?(?:www\.)?doi\.org/)},parse(t){return t.pathname.replace(/^\//,"")}},R={test(t){return t.hostname.endsWith("elifesciences.org")&&t.pathname.startsWith("/articles/")},parse(t){return`10.7554/eLife.${t.pathname.replace("/articles/","")}`}},p={test(t){return t.hostname.endsWith("zenodo.org")&&!!t.pathname.match(/^\/(?:record|badge\/latestdoi)\//)},parse(t){return`10.5281/zenodo.${t.pathname.replace(/^\/(?:record|badge\/latestdoi)\//,"")}`}};function u(t){let r=t.pathname.split("/").filter(e=>!!e);return r.slice(0,-1).map((e,i)=>`${e}/${r[i+1]}`)}var E={test(t){return!!u(t).find(n)},parse(t){return u(t).find(n)}},S={test(t){return n(t.searchParams.get("id"))},parse(t){var r;return(r=t.searchParams.get("id"))!==null&&r!==void 0?r:void 0}},f=[c],l=[c,E,R,p,S];var v="10.13039";function T(t,r){return t?!!o(t,r):!1}function o(t,r){let e;if(t){if(n(t))return t;if(t.startsWith("doi:")&&(e=t.slice(4),n(e)))return e;try{let i=new URL(t.startsWith("http")?t:`http://${t}`),a=f.find(d=>d.test(i)),h=l.find(d=>d.test(i));if(r?.strict&&!a)return;let s=a??h;if(!s)return;if(e=s.parse(i),!r?.strict&&a)return e}catch{}if(n(e))return e}}function _(t,r){let e=o(t,r);if(e)return`https://doi.org/${e}`}function L(t){let r=o(t);return r?r.startsWith(`${v}/`):!1}var V={validatePart:n,validate:T,normalize:o,buildUrl:_,isOpenFunderRegistry:L};export{V as a};
