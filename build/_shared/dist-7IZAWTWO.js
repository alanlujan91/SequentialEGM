import{a as x,h as y,k as C,m as _,o as I,p as E,s as k}from"/SequentialEGM/build/_shared/chunk-M5ZDOVXY.js";import"/SequentialEGM/build/_shared/chunk-RTIGS2T3.js";import"/SequentialEGM/build/_shared/chunk-2NH4LW52.js";function B(r){return r===1?"p{\\dimexpr \\linewidth-2\\tabcolsep}":`p{\\dimexpr ${r.toFixed(3)}\\linewidth-2\\tabcolsep}`}function A(r){var e,n,i;let t=[],o=0;for(let a=0;a<r.children.length;a+=1){let h=r.children[a].children.reduce((p,b)=>{var $,T;let le=new Array(($=b.colspan)!==null&&$!==void 0?$:1).fill(b.width?b.width/((T=b.colspan)!==null&&T!==void 0?T:1):null);return[...p,...le]},[]),v=h.filter(p=>p>0).length;if((a===0||v>=o)&&(o=v,t=h,o===h.length))break}let l;if(o===t.length)l=t;else{let m=886-t.reduce((p,b)=>b==null?p:p+b,0),h=t.length-o,v=Math.floor(m/h);l=t.map(p=>p==null||p===0?v:p)}let s=l.reduce((a,m)=>a+m,0),c=l.map(a=>a/s),u=c.map(a=>B(a)).join(""),d=l.length>0?l.length:(i=(n=(e=r?.children[0])===null||e===void 0?void 0:e.children)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0;return{widths:c,columnSpec:u,numColumns:d}}function H(r,e,n,i,t,o){var l;let s=1,c=(l=e.colspan)!==null&&l!==void 0?l:1;if(c>1){let u=0;for(let d=0;d<c;d+=1)u+=t[i+d];r.write(`\\multicolumn{${c}}{${B(u)}}{`),s=c}return e.children.length===1&&e.children[0].type==="paragraph"?r.renderChildren(e.children[0],!0):r.renderChildren(e,!0),c>1&&r.write("}"),n<o-1&&r.write(" & "),s}function W(r,e){e.usePackages("booktabs");let{widths:n,columnSpec:i,numColumns:t}=A(r);if(!t)throw new Error("invalid table format, no columns");e.data.isInTable=!0,e.data.isInContainer||e.write("\\bigskip\\noindent"),e.ensureNewLine();let o=0;if(e.data.longFigure){e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine();let l=!1;r.children.forEach(({children:s})=>{var c,u;if(!l){if(!((c=s[0])===null||c===void 0)&&c.header){o+=1;let d=0;s.forEach((a,m)=>{d+=H(e,a,m,d,n,s.length)}),e.write(" \\\\"),e.ensureNewLine()}!((u=s[0])===null||u===void 0)&&u.header||(l=!0)}}),o>0&&(e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write("\\endfirsthead"),e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write(`\\multicolumn{${t}}{c}{\\tablename\\ \\thetable\\ -- \\textit{Continued from previous page}}\\\\`),e.ensureNewLine(),r.children.forEach(({children:s},c)=>{if(c>=o)return;let u=0;s.forEach((d,a)=>{u+=H(e,d,a,u,n,s.length)}),e.write(" \\\\"),e.ensureNewLine()}),e.ensureNewLine(),e.write("\\hline"),e.ensureNewLine(),e.write("\\endhead"),e.ensureNewLine())}else e.write(`\\begin{tabular}{${i}}`),e.ensureNewLine(),e.write("\\toprule"),e.ensureNewLine();r.children.forEach(({children:l},s)=>{var c;if(s<o)return;let u=0;l.forEach((d,a)=>{u+=H(e,d,a,u,n,l.length)}),e.write(" \\\\"),e.ensureNewLine(),!((c=l[0])===null||c===void 0)&&c.header&&(e.write("\\hline"),e.ensureNewLine())}),e.data.longFigure?e.write("\\hline"):(e.write("\\bottomrule"),e.ensureNewLine(),e.write("\\end{tabular}")),e.closeBlock(r),e.data.isInTable=!1,e.data.isInContainer||e.write("\\bigskip")}var f;(function(r){r.fig="fig",r.eq="eq",r.code="code",r.table="table"})(f||(f={}));function se(r){var e;let n=(e=r?.split(" ").map(i=>i.trim().toLowerCase()).filter(i=>!!i))!==null&&e!==void 0?e:[];return[...new Set(n)]}function ce(r){switch(r.type){case"iframe":case"image":return f.fig;case"table":return f.table;case"code":return f.code;case"math":return f.eq;default:return null}}function D(r){var e;let n=ce(r);return(e=r.children)===null||e===void 0||e.forEach(i=>{n||(n=D(i))}),n}function ae(r){let e=D(r),n=se(r.class),i=n.includes("full-width")||n.includes("w-full");switch(e){case f.fig:return i?"figure*":"figure";case f.table:return i?"table*":"table";case f.code:return"code";case f.eq:return"figure";default:return"figure"}}function ue(r){switch(D(r)){case f.fig:case f.table:return"!htbp";case f.code:return"H";case f.eq:default:return}}var S=(r,e)=>{var n;if(e.data.isInTable){e.renderChildren(r);return}let i=I("table",r),t=!!i,o;i&&r.multipage&&(o=A(i));let l,s;r.landscape&&(e.usePackages("pdflscape"),l="\\begin{landscape}",s="\\end{landscape}");let{enumerated:c,label:u,identifier:d,multipage:a}=r,m=(n=u??d)!==null&&n!==void 0?n:void 0,h=t&&a?"longtable":ae(r);h==="longtable"&&e.usePackages("longtable");let v=t&&o?o.columnSpec:void 0,p=t?void 0:ue(r);l&&e.write(l);let b=v?`{${v}}`:"",$=p?`[${p}]`:"";e.write(`\\begin{${h}}${b}${$}
`),(!a||!t)&&e.write("\\centering"),e.ensureNewLine(),e.data.longFigure=a;let T=e.data.isInContainer;e.data.isInContainer=!0,e.data.nextCaptionNumbered=c??!!m,e.data.nextCaptionId=m,e.renderChildren(r),e.trimEnd(),e.data.longFigure=void 0,e.data.isInContainer=T,e.write(`
\\end{${h}}`),s&&e.write(s),e.closeBlock(r)},F=(r,e)=>{if(e.data.isInTable&&r.type!==f.table)return null;e.ensureNewLine(!0);let{nextCaptionNumbered:n,nextCaptionId:i}=e.data,t=n===!1?"caption*":"caption[]",o=n&&i?`\\label{${i}}`:"";e.renderInlineEnvironment(r,t,{after:o})};var N=.7,q=800;function J(r,e=" "){return r.replace(/\u00A0/g,e).replace(/[\u200B-\u200D\uFEFF]/g,"")}var U="\u{1F4A5}\u{1F3AF}BACKSLASHSPACE\u{1F3AF}\u{1F4A5}",X="\u{1F4A5}\u{1F3AF}BACKSLASH\u{1F3AF}\u{1F4A5}",K="\u{1F4A5}\u{1F3AF}TILDE\u{1F3AF}\u{1F4A5}",O={"&":"\\&","%":"\\%",$:"\\$","#":"\\#",_:"\\_","{":"\\{","}":"\\}","^":"\\^"},de={...O,"\u2019":"'","\u2018":"`","\u201D":"''","\u201C":"``","\xBB":">>","\xAB":"<<","\u2026":"\\dots","\u2013":"--","\u2014":"---","\xA9":"\\textcopyright ","\xAE":"\\textregistered ","\u2122":"\\texttrademark ","<":"\\textless ",">":"\\textgreater ","\xA0":"~","\u202F":"~","\u2009":"\\,"},Q={"\u2194":"\\leftrightarrow","\u21D4":"\\Leftrightarrow","\u2192":"\\rightarrow","\u21D2":"\\Rightarrow","\u2190":"\\leftarrow","\u21D0":"\\Leftarrow"},V={"\u2212":"-","-":"-","\uFE63":"-","\uFF0D":"-","\uFF0B":"+"},fe={"\u2080":"\\textsubscript{0}","\u2081":"\\textsubscript{1}","\u2082":"\\textsubscript{2}","\u2083":"\\textsubscript{3}","\u2084":"\\textsubscript{4}","\u2085":"\\textsubscript{5}","\u2086":"\\textsubscript{6}","\u2087":"\\textsubscript{7}","\u2088":"\\textsubscript{8}","\u2089":"\\textsubscript{9}","\u208A":"\\textsubscript{+}","\u208B":"\\textsubscript{-}","\u208C":"\\textsubscript{=}","\u208D":"\\textsubscript{(}","\u208E":"\\textsubscript{)}","\u2099":"\\textsubscript{n}","\u2070":"\\textsuperscript{0}","\xB9":"\\textsuperscript{1}","\xB2":"\\textsuperscript{2}","\xB3":"\\textsuperscript{3}","\u2074":"\\textsuperscript{4}","\u2075":"\\textsuperscript{5}","\u2076":"\\textsuperscript{6}","\u2077":"\\textsuperscript{7}","\u2078":"\\textsuperscript{8}","\u2079":"\\textsuperscript{9}","\u22C5":"\\textsuperscript{.}","\u207A":"\\textsuperscript{.}","\u207B":"\\textsuperscript{-}","\u207C":"\\textsuperscript{=}","\u207D":"\\textsuperscript{(}","\u207E":"\\textsuperscript{)}",\u207F:"\\textsuperscript{n}","\u2071":"\\textsuperscript{i}"},Z={...de,...Q,...V,...fe},P={...Q,...V,"\xBD":"\\frac{1}{2}","\u2153":"\\frac{1}{3}","\u2154":"\\frac{2}{3}","\xBC":"\\frac{1}{4}","\u2155":"\\frac{1}{5}","\u2156":"\\frac{2}{5}","\u2157":"\\frac{3}{5}","\u2158":"\\frac{4}{5}","\u2159":"\\frac{1}{6}","\u215A":"\\frac{5}{6}","\u2150":"\\frac{1}{7}","\u215B":"\\frac{1}{8}","\u215C":"\\frac{3}{8}","\u215D":"\\frac{5}{8}","\u215E":"\\frac{7}{8}","\u2151":"\\frac{1}{9}","\u2152":"\\frac{1}{10}","\xB1":"\\pm","\xD7":"\\times","\u22C6":"\\star",\u0391:"A",\u03B1:"\\alpha",\u0392:"B",\u03B2:"\\beta",\u00DF:"\\beta",\u0393:"\\Gamma",\u03B3:"\\gamma",\u0394:"\\Delta","\u2206":"\\Delta",\u03B4:"\\delta",\u0395:"E",\u03B5:"\\epsilon",\u0396:"Z",\u03B6:"\\zeta",\u0397:"H",\u03B7:"\\eta",\u0398:"\\Theta",\u03B8:"\\theta",\u03D1:"\\vartheta",\u0399:"I",\u03B9:"\\iota",\u039A:"K",\u03BA:"\\kappa",\u039B:"\\Lambda",\u03BB:"\\lambda",\u039C:"M",\u03BC:"\\mu",\u039D:"N",\u03BD:"\\nu",\u039E:"\\Xi",\u03BE:"\\xi",\u039F:"O",\u03BF:"o",\u03A0:"\\Pi",\u03C0:"\\pi",\u03A1:"P",\u03C1:"\\rho",\u03A3:"\\Sigma",\u03C3:"\\sigma",\u03A4:"T",\u03C4:"\\tau",\u03A5:"\\Upsilon",\u03C5:"\\upsilon",\u03A6:"\\Phi",\u03D5:"\\phi",\u03C6:"\\varphi",\u03A7:"X",\u03C7:"\\chi",\u03A8:"\\Psi",\u03C8:"\\psi",\u03A9:"\\Omega",\u03C9:"\\omega","\u2202":"\\partial","\u221E":"\\infty","\u221D":"\\propto","\u29DC":"\\iinfin","\u29DD":"\\tieinfty","\u267E":"\\acidfree","\u2248":"\\approx","\u2260":"\\neq","\u2265":"\\geq","\u2264":"\\leq","\u2022":"\\cdot"};function G(r){return Array.from(r??"").map(i=>O[i]?{kind:"text",text:O[i]}:{kind:"text",text:i}).reduce((i,t)=>{let o=i.slice(-1)[0];return o?.kind===t.kind?o.text+=t.text:i.push(t),i},[]).reduce((i,t)=>i+t.text,"")}function Y(r){let e=(r??"").replace(/\\ /g,U).replace(/\\/g,X).replace(/~/g,K),t=Array.from(e).map(o=>Z[o]?{kind:"text",text:Z[o]}:P[o]?{kind:"math",text:P[o]}:{kind:"text",text:o}).reduce((o,l)=>{let s=o.slice(-1)[0];return s?.kind===l.kind?s.text+=l.text:o.push(l),o},[]).reduce((o,l)=>l.kind==="math"?`${o}$${l.text}$`:o+l.text,"").replace(new RegExp(U,"g"),"{\\textbackslash}~").replace(new RegExp(X,"g"),"{\\textbackslash}").replace(new RegExp(K,"g"),"{\\textasciitilde}");return J(t,"~")}function z(r){let n=Array.from(r??"").reduce((i,t)=>{if(P[t]){let o=i.slice(-1)===" "?"":" ";return`${i}${o}${P[t]}`}return i+t},"").trim();return J(n)}function L(r){if(typeof r=="number"&&Number.isNaN(r))return L(.7);if(typeof r=="string")return r.endsWith("%")?L(Number(r.replace("%",""))):r.endsWith("px")?L(Number(r.replace("px",""))/800):(console.log(`Unknown width ${r} in getLatexImageWidth`),L(.7));let e=r??.7;return e<1&&(e*=100),`${e/100}\\linewidth`}function M(r){var e;let n=(e=r?.split(" ").map(i=>i.trim().toLowerCase()).filter(i=>!!i))!==null&&e!==void 0?e:[];return Array.from(new Set(n))}function ee(r,e){e.options.math&&Object.entries(e.options.math).forEach(([n,i])=>{r.includes(n)&&(e.data.mathPlugins[n]=i)})}function j(r,e=r.data.mathPlugins){if(!r.options.math)return e;let n=Object.entries(e),i={};Object.entries(r.options.math).forEach(([o,l])=>{e[o]||n.forEach(([,s])=>{s.includes(o)&&(i[o]=l)})});let t={...i,...e};return Object.keys(i).length===0?t:j(r,t)}var pe=(r,e)=>{let{label:n,enumerated:i}=r;e.usePackages("amsmath"),ee(r.value,e),e.data.isInTable?(e.write("\\(\\displaystyle "),e.write(r.value),e.write(" \\)")):(e.write(`\\begin{equation${i===!1?"*":""}}
`),n&&e.write(`\\label{${n}}`),e.ensureNewLine(),e.write(r.value),e.ensureNewLine(!0),e.write(`\\end{equation${i===!1?"*":""}}`)),e.data.isInTable||e.closeBlock(r)},me=(r,e)=>{e.usePackages("amsmath"),ee(r.value,e),e.write("$"),e.text(r.value,!0),e.write("$")},he={math:pe,inlineMath:me},re=he;function ie(r){E("container",r).forEach(n=>{var i;let t=(i=n.children)===null||i===void 0?void 0:i.filter(o=>o.type==="caption"||o.type==="legend");t?.length&&(t[0].type="caption",t.slice(1).forEach(o=>{var l;t[0].children&&o.children&&((l=t[0].children)===null||l===void 0||l.push(...o.children)),o.type="__delete__"}))}),_(r,"__delete__")}function be(r){switch(r){case"theorem":return"theorem";case"proof":return"proof";case"proposition":return"proposition";case"definition":return"definition";case"example":return"example";case"remark":return"remark";case"axiom":return"axiom";case"conjecture":return"conjecture";case"lemma":return"lemma";case"observation":return"observation";case"corollary":return"corollary";default:return""}}var ne=(r,e)=>{var n;e.usePackages("amsthm");let i=r,t=be((n=i.kind)!==null&&n!==void 0?n:"proof");if(!t){x(e.file,`Unhandled LaTeX proof environment "${i.kind}"`,{node:r,source:"myst-to-tex",ruleId:k.texRenders});return}let o=I("admonitionTitle > text",r);o&&(o.type="__delete__");let l=_(r,"__delete__");e.write("\\begin{"),e.write(t),e.write("}"),o&&(e.write("["),e.write(o.value),e.write("]")),l.identifier&&l.identifier.length>0&&(e.write("\\label{"),e.write(l.identifier),e.write("}")),e.renderChildren(l,!0),e.write("\\end{"),e.write(t),e.write("}"),e.data.hasProofs=!0},w=class{constructor(){this.preamble=this.renderThmDefinitions()}renderThmDefinitions(){let n=C("theorem",["\\newtheorem{theorem}{Theorem}[section]","\\newtheorem{corollary}{Corollary}[theorem]","\\newtheorem{lemma}[theorem]{Lemma}","\\newtheorem{proposition}{Proposition}[section]","\\newtheorem{definition}{Definition}[section]","\\newtheorem{example}{Example}[section]","\\newtheorem{remark}{Remark}[section]","\\newtheorem{axiom}{Axiom}[section]","\\newtheorem{conjecture}{Conjecture}[section]","\\newtheorem{observation}{Observation}[section]"],w.COMMENT_LENGTH),i="".padEnd(w.COMMENT_LENGTH,"%");return`${i}
${n}${i}
`}};w.COMMENT_LENGTH=50;var g=class{constructor(e,n){this.printedDefinitions=this.renderGlossary(),this.preamble=[this.renderCommonImports(Object.keys(n).keys.length>0),this.renderImports("glossary",this.createGlossaryDirectives(e)),this.renderImports("acronyms",this.createAcronymDirectives(n))].filter(i=>!!i).join(`
`)}renderGlossary(){let e=C("acronyms & glossary",["\\printglossaries"],g.COMMENT_LENGTH),n="".padEnd(g.COMMENT_LENGTH,"%");return`${n}
${e}${n}
`}renderCommonImports(e){return`${e?"\\usepackage[acronym]{glossaries}":"\\usepackage{glossaries}"}
\\makeglossaries
`}renderImports(e,n){if(!n)return"";let i=C(e,n,g.COMMENT_LENGTH);if(!i)return;let t="".padEnd(g.COMMENT_LENGTH,"%");return`${t}
${i}${t}
`}createGlossaryDirectives(e){return Object.keys(e).map(t=>({key:t,name:e[t][0],description:e[t][1]})).map(t=>`\\newglossaryentry{${t.key}}{name=${t.name},description={${t.description}}}`)}createAcronymDirectives(e){return Object.keys(e).map(i=>({key:i,acronym:e[i][0],expansion:e[i][1]})).map(i=>`\\newacronym{${i.key}}{${i.acronym}}{${i.expansion}}`)}};g.COMMENT_LENGTH=50;function Re(r){let e=[],n="";if(r.hasProofs&&e.push(new w().preamble),r.printGlossaries){let i=new g(r.glossary,r.abbreviations);e.push(i.preamble),n=`
${i.printedDefinitions}`}return{preamble:e.join(`
`),suffix:n}}function Be(r,e,n){let i=r.hasProofs||e.hasProofs,t=r.printGlossaries||e.printGlossaries;Object.keys(e.glossary).forEach(s=>{Object.keys(r.glossary).includes(s)&&n(`duplicate glossary entry for '${s}'`)}),Object.keys(e.abbreviations).forEach(s=>{Object.keys(r.abbreviations).includes(s)&&n(`duplicate abbreviation definition for '${s}'`)});let o={...e.glossary,...r.glossary},l={...e.abbreviations,...r.abbreviations};return{hasProofs:i,printGlossaries:t,glossary:o,abbreviations:l}}var ge=(r,e)=>{if(!e.printGlossary){e.renderChildren(r,!0);return}if(!r.identifier){e.renderChildren(r,!0);return}if(!e.glossary[r.identifier]){x(e.file,`Unknown glossary entry identifier "${r.identifier}"`,{node:r,source:"myst-to-tex",ruleId:k.texRenders});let i=r;e.write(y(r).trim()||i.label||"");return}e.write("\\gls{"),e.write(r.identifier),e.write("}")},we=r=>Object.fromEntries(E("footnoteDefinition",r).map(e=>{let n=e;return[n.identifier,n]})),ve=r=>Object.fromEntries(E("glossary > definitionList > *",r).map((e,n,i)=>{if(e.type!=="definitionTerm")return[];let t=e;if(!t.identifier)return[];let o=i[n+1];if(o===void 0||o.type!=="definitionDescription")throw new Error("Definition term has no associated description");let l=y(t),s=y(o);return[t.identifier,[l,s]]}).filter(e=>e.length>0)),te=r=>r.trim().toLowerCase(),xe=r=>Object.fromEntries(E("abbreviation",r).map(e=>{let n=e,i=y(n);return!i||!n.title?[]:[te(i),[i,n.title]]}).filter(e=>e.length>0)),oe={text(r,e){e.text(r.value)},paragraph(r,e){e.renderChildren(r)},heading(r,e){let{depth:n,label:i,enumerated:t}=r;if(e.data.nextHeadingIsFrameTitle)e.write("\\frametitle{"),e.data.nextHeadingIsFrameTitle=!1;else{let o=t!==!1||e.options.beamer?"":"*";n===1&&e.write(`\\section${o}{`),n===2&&e.write(`\\subsection${o}{`),n===3&&e.write(`\\subsubsection${o}{`),n===4&&e.write(`\\paragraph${o}{`),n===5&&e.write(`\\subparagraph${o}{`),n===6&&e.write(`\\subparagraph${o}{`)}e.renderChildren(r,!0),e.write("}"),t!==!1&&i&&!r.implicit&&e.write(`\\label{${i}}`),e.closeBlock(r)},block(r,e){var n,i,t,o,l;if(e.options.beamer){if(!((n=r.data)===null||n===void 0)&&n.outline){e.data.nextHeadingIsFrameTitle=!1,e.renderChildren(r,!1);return}((t=(i=r.children)===null||i===void 0?void 0:i[0])===null||t===void 0?void 0:t.type)==="heading"&&(e.data.nextHeadingIsFrameTitle=!0),e.write(`

\\begin{frame}
`),e.renderChildren(r,!1),e.write(`\\end{frame}

`);return}r.visibility!=="remove"&&(!((l=(o=r.data)===null||o===void 0?void 0:o.tags)===null||l===void 0)&&l.includes("no-tex")||e.renderChildren(r,!1))},blockquote(r,e){e.renderEnvironment(r,"quote")},definitionList(r,e){e.write(`\\begin{description}
`),e.renderChildren(r,!0),e.ensureNewLine(),e.write("\\end{description}"),e.closeBlock(r)},definitionTerm(r,e){e.ensureNewLine(),e.write("\\item["),e.renderChildren(r,!0),e.write("] ")},definitionDescription(r,e){e.renderChildren(r,!0)},code(r,e){var n;let i=`\\begin{verbatim}
`,t=`
\\end{verbatim}`;e.options.codeStyle==="listings"||M(r.class).includes("listings")&&r.lang!==void 0?(e.usePackages("listings"),i=`\\begin{lstlisting}[language=${r.lang}]
`,t=`
\\end{lstlisting}`):(e.options.codeStyle==="minted"||M(r.class).includes("minted"))&&(e.usePackages("minted"),i=`\\begin{minted}[breaklines]{${(n=r.lang)!==null&&n!==void 0?n:"text"}}
`,t=`
\\end{minted}`),e.write(i),e.text(r.value,!0),e.write(t),e.closeBlock(r)},list(r,e){e.data.isInTable?r.children.forEach((n,i)=>{e.write(r.ordered?`${i}.~~`:"\\textbullet~~"),e.renderChildren(n,!0),e.write("\\newline"),e.ensureNewLine()}):e.renderEnvironment(r,r.ordered?"enumerate":"itemize",{parameters:r.ordered&&r.start!==1?"resume":void 0})},listItem(r,e){e.write("\\item "),e.renderChildren(r,!0),e.write(`
`)},thematicBreak(r,e){e.write(`
\\bigskip
\\centerline{\\rule{13cm}{0.4pt}}
\\bigskip`),e.closeBlock(r)},...re,mystRole(r,e){e.renderChildren(r,!0)},mystDirective(r,e){e.renderChildren(r,!1)},comment(r,e){var n,i;e.ensureNewLine(),e.write(`% ${(i=(n=r.value)===null||n===void 0?void 0:n.split(`
`).join(`
% `))!==null&&i!==void 0?i:""}`),e.closeBlock(r)},strong(r,e){e.renderInlineEnvironment(r,"textbf")},emphasis(r,e){e.renderInlineEnvironment(r,"textit")},underline(r,e){e.renderInlineEnvironment(r,"uline")},inlineCode(r,e){e.write("\\texttt{"),e.text(r.value,!1),e.write("}")},subscript(r,e){e.renderInlineEnvironment(r,"textsubscript")},superscript(r,e){e.renderInlineEnvironment(r,"textsuperscript")},delete(r,e){e.usePackages("ulem"),e.renderInlineEnvironment(r,"sout")},break(r,e){e.write("\\newline"),e.ensureNewLine()},abbreviation(r,e){if(!e.printGlossary){e.renderChildren(r,!0);return}let n=y(r);if(!n)return[];let i=te(n);if(!e.abbreviations[i]){x(e.file,`Unknown abbreviation entry identifier "${i}"`,{node:r,source:"myst-to-tex",ruleId:k.texRenders});return}e.write("\\acrshort{"),e.write(i),e.write("}")},glossary(){},link(r,e){var n;e.usePackages("url","hyperref");let i=r.url;if(((n=r.children[0])===null||n===void 0?void 0:n.value)===i){e.write("\\url{"),e.write(G(i)),e.write("}");return}e.write("\\href{"),e.write(G(i)),e.write("}{"),e.renderChildren(r,!0),e.write("}")},admonition(r,e){e.usePackages("framed"),e.renderEnvironment(r,"framed")},admonitionTitle(r,e){e.renderInlineEnvironment(r,"textbf"),e.write(`\\\\
`)},table:W,image(r,e){e.usePackages("graphicx");let{width:n,url:i,align:t}=r,o=i,l=L(n);e.write(`\\includegraphics[width=${l}]{${o}}`),e.closeBlock(r)},container:S,proof:ne,caption:F,captionNumber:()=>{},crossReference(r,e,n){var i,t;if(r.kind==="definitionTerm"){ge(r,e,n);return}let o=!((i=r.template)===null||i===void 0)&&i.includes("%s")?r.template:void 0,l=((t=o??y(r))===null||t===void 0?void 0:t.replace(/\s/g,"~"))||"%s",s=r.label;e.write(l.replace(/%s/g,`\\ref{${s}}`))},citeGroup(r,e){if(e.options.citestyle==="numerical-only")e.write("\\cite{");else if(e.options.bibliography==="biblatex"){let n=r.kind==="narrative"?"textcite":"parencite";e.write(`\\${n}{`)}else{let n=r.kind==="narrative"?"t":"p";e.write(`\\cite${n}{`)}e.renderChildren(r,!0,", "),e.write("}")},cite(r,e,n){e.options.bibliography||e.usePackages("natbib"),n.type==="citeGroup"?e.write(r.label):e.options.bibliography==="biblatex"?e.write(`\\textcite{${r.label}}`):e.write(`\\cite{${r.label}}`)},embed(r,e){e.renderChildren(r,!0)},include(r,e){e.renderChildren(r,!0)},footnoteReference(r,e){if(!r.identifier)return;let n=e.footnotes[r.identifier];if(!n){x(e.file,`Unknown footnote identifier "${r.identifier}"`,{node:r,source:"myst-to-tex",ruleId:k.texRenders});return}e.write("\\footnote{"),e.renderChildren(n,!0),e.trimEnd(),e.write("}")},footnoteDefinition(){},si(r,e){var n,i,t,o;e.usePackages("siunitx"),r.number==null?e.write(`\\unit{${(i=(n=r.units)===null||n===void 0?void 0:n.map(l=>`\\${l}`).join(""))!==null&&i!==void 0?i:""}}`):e.write(`\\qty{${r.number}}{${(o=(t=r.units)===null||t===void 0?void 0:t.map(l=>`\\${l}`).join(""))!==null&&o!==void 0?o:""}}`)}},R=class{constructor(e,n,i){var t,o;e.result="",this.file=e,this.options=i??{},this.data={mathPlugins:{},imports:new Set},this.handlers=(t=i?.handlers)!==null&&t!==void 0?t:oe,this.references=(o=i?.references)!==null&&o!==void 0?o:{},this.footnotes=we(n),this.glossary=i?.printGlossaries?ve(n):{},this.abbreviations=i?.printGlossaries?xe(n):{},this.renderChildren(n)}get printGlossary(){return this.options.printGlossaries===!0}get out(){return this.file.result}usePackages(...e){e.forEach(n=>{this.data.imports.add(n)})}write(e){this.file.result+=e}text(e,n=!1){let i=n?z(e):Y(e);this.write(i)}trimEnd(){this.file.result=this.out.trimEnd()}ensureNewLine(e=!1){e&&this.trimEnd(),!this.out.endsWith(`
`)&&this.write(`
`)}renderChildren(e,n=!1,i=""){var t,o,l;let s=(o=(t=e.children)===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0;(l=e.children)===null||l===void 0||l.forEach((c,u)=>{let d=this.handlers[c.type];d?d(c,this,e):x(this.file,`Unhandled LaTeX conversion for node of "${c.type}"`,{node:c,source:"myst-to-tex",ruleId:k.texRenders}),i&&u+1<s&&this.write(i)}),n||this.closeBlock(e)}renderEnvironment(e,n,i){let t=i?.parameters?`[${i.parameters}]`:"",o=i?.arguments?`{${i.arguments.join("}{")}}`:"";this.file.result+=`\\begin{${n}}${t}${o}
`,this.renderChildren(e,!0),this.ensureNewLine(!0),this.file.result+=`\\end{${n}}`,this.closeBlock(e)}renderInlineEnvironment(e,n,i){this.file.result+=`\\${n}{`,this.renderChildren(e,!0),this.trimEnd(),this.file.result+="}",i?.after&&(this.ensureNewLine(!0),this.write(i.after))}closeBlock(e){this.ensureNewLine(!0),this.file.result+=`
`}},ye=function(r){return this.Compiler=(e,n)=>{ie(e);let i=new R(n,e,r??{handlers:oe}),t=n.result.trim(),o={imports:[...i.data.imports],preamble:{hasProofs:i.data.hasProofs,printGlossaries:r?.printGlossaries,glossary:i.glossary,abbreviations:i.abbreviations},commands:j(i),value:t};return n.result=o,n},e=>e},Qe=ye;export{N as DEFAULT_IMAGE_WIDTH,q as DEFAULT_PAGE_WIDTH_PIXELS,Qe as default,Re as generatePreamble,Be as mergePreambles};
